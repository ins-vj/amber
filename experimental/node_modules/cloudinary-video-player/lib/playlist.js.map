{"version":3,"file":"playlist.js","mappings":"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","sources":["webpack:///./utils/api.js","webpack:///./plugins/playlist/ui/components/upcoming-video-overlay.js","webpack:///./plugins/playlist/ui/components/playlist-button.js","webpack:///./plugins/playlist/ui/components/playlist-next-button.js","webpack:///./plugins/playlist/ui/components/playlist-previous-button.js","webpack:///./plugins/playlist/ui/playlist.const.js","webpack:///./plugins/playlist/ui/playlist.js","webpack:///./plugins/playlist/ui/layout/playlist-layout.js","webpack:///./plugins/playlist/ui/layout/playlist-layout-horizontal.js","webpack:///./plugins/playlist/ui/layout/playlist-layout-vertical.js","webpack:///./plugins/playlist/ui/layout/playlist-layout-custom.js","webpack:///./plugins/playlist/ui/playlist-widget.js","webpack:///./plugins/playlist/ui/thumbnail/thumbnail.js","webpack:///./plugins/playlist/ui/panel/playlist-panel-item.js","webpack:///./plugins/playlist/ui/panel/playlist-panel.js","webpack:///./plugins/playlist/playlist.js","webpack:///./utils/time.js"],"sourcesContent":["import { isPlainObject } from 'utils/type-inference';\nimport { camelize } from 'utils/string';\nimport { parseISO8601 } from 'utils/time';\n\nconst TIME_FIELDS = ['created_at', 'updated_at'];\n\nconst normalizeJsonResponse = (obj) => {\n  const agg = {};\n\n  if (isPlainObject(obj)) {\n    Object.keys(obj).reduce((agg, key) => {\n      const newKey = camelize(key);\n\n      if (TIME_FIELDS.indexOf(key) !== -1) {\n        agg[newKey] = new Date(parseISO8601(obj[key]));\n      } else {\n        agg[newKey] = normalizeJsonResponse(obj[key]);\n      }\n\n      return agg;\n    }, agg);\n\n    return agg;\n  } else if (Array.isArray(obj)) {\n    return obj.map((item) => normalizeJsonResponse(item));\n  } else {\n    return obj;\n  }\n};\n\n\nexport { normalizeJsonResponse };\n","import videojs from 'video.js';\nimport './upcoming-video-overlay.scss';\nimport { PLAYER_EVENT } from 'utils/consts';\n\n// support VJS5 & VJS6 at the same time\nconst dom = videojs.dom || videojs;\n\nconst Component = videojs.getComponent('Component');\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass UpcomingVideoOverlay extends ClickableComponent {\n\n  static DISABLE_TRANSITION_CLASS = 'disable-transition';\n  static VJS_UPCOMING_VIDEO_SHOW = 'vjs-upcoming-video-show';\n\n  constructor(player, ...args) {\n    super(player, ...args);\n\n    this._setEvents(player);\n  }\n\n  _setEvents(player) {\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_SHOW, this._show);\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_HIDE, this._hide);\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, this._onPlaylistItemChange);\n  }\n\n  _hide = () => {\n    this.removeClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n  }\n\n  _disableTransition(block) {\n    this.addClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n    block();\n    this.removeClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n  }\n\n  _onPlaylistItemChange = (_, event) => {\n    this._hide();\n    this._disableTransition(() => {\n      if (event.next) {\n        this.setItem(event.next);\n      }\n    });\n  }\n\n  _show = () => {\n    const ima = this.player().ima;\n    const adsManager = ima === 'object' && ima.getAdsManager();\n\n    if (adsManager) {\n      if (!adsManager.getCurrentAd() || adsManager.getCurrentAd().isLinear()) {\n        this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n      }\n    } else {\n      this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n    }\n  }\n\n  setTitle(source) {\n    const title = this.getChild('upcomingVideoOverlayContent')\n      .getChild('upcomingVideoOverlayBar')\n      .getChild('upcomingVideoOverlayTitle');\n\n    title.setContent(source.info().title || source.publicId());\n  }\n\n  setItem(source) {\n    this._source = source;\n\n    const maxWidth = parseInt(window.getComputedStyle(this.el(), null).getPropertyValue('max-width'), 10);\n    const maxHeight = Math.round(maxWidth * (9 / 16.0));\n\n    const transformation = { crop: 'pad', background: 'auto:predominant', width: maxWidth, height: maxHeight };\n    const content = this.getChild('upcomingVideoOverlayContent');\n\n    this.setTitle(source);\n\n    content.el().style.backgroundImage = `url(\"${this._source.poster().url({ transformation })}\")`;\n  }\n\n  handleClick() {\n    super.handleClick(event);\n\n    this.player().cloudinary.playlist().playNext();\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayContent extends Component {\n  createEl() {\n    // Content wraps image and bar\n    return super.createEl('div', {\n      className: 'upcoming-video-overlay aspect-ratio-content'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayTitle extends Component {\n\n  setContent(title) {\n    this._contentSpan.innerText = title;\n  }\n\n  createEl() {\n    const el = super.createEl('div', {\n      className: 'vjs-control vjs-upcoming-video-title'\n    });\n\n    const container = dom.createEl('div', {\n      className: 'vjs-upcoming-video-title-display',\n      innerHTML: '<span class=\"vjs-control-text\">Next up</span>Next up: '\n    });\n\n    this._contentSpan = dom.createEl('span', {\n      className: 'vjs-upcoming-video-title-display-label'\n    });\n\n    container.appendChild(this._contentSpan);\n\n    el.appendChild(container);\n\n    return el;\n  }\n}\n\nclass UpcomingVideoOverlayBar extends Component {\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video-bar'\n    });\n  }\n}\n\nUpcomingVideoOverlay.prototype.options_ = { children: ['upcomingVideoOverlayContent'] };\nvideojs.registerComponent('upcomingVideoOverlay', UpcomingVideoOverlay);\n\nUpcomingVideoOverlayContent.prototype.options_ = { children: ['upcomingVideoOverlayBar'] };\nvideojs.registerComponent('upcomingVideoOverlayContent', UpcomingVideoOverlayContent);\n\nUpcomingVideoOverlayBar.prototype.options_ = { children: ['upcomingVideoOverlayTitle', 'playlistNextButton'] };\nvideojs.registerComponent('upcomingVideoOverlayBar', UpcomingVideoOverlayBar);\n\nvideojs.registerComponent('upcomingVideoOverlayTitle', UpcomingVideoOverlayTitle);\n\nexport default UpcomingVideoOverlay;\n","import videojs from 'video.js';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\n// Create a common class for playlist buttons\nclass PlaylistButton extends ClickableComponent {\n\n  constructor(player, options) {\n    // It is important to invoke the superclass before anything else,\n    // to get all the features of components out of the box!\n    super(player, options);\n\n    const type = options.type;\n\n    if (!type && type !== 'previous' && type !== 'next') {\n      throw new Error('Type must be either \\'previous\\' or \\'next\\'');\n    }\n  }\n\n  // The `createEl` function of a component creates its DOM element.\n  createEl() {\n    const type = this.options_.type;\n    const typeCssClass = `vjs-icon-${type}-item`;\n\n    return videojs.dom.createEl('button', {\n      // Prefixing classes of elements within a player with \"vjs-\"\n      // is a convention used in Video.js.\n      className: `vjs-control vjs-playlist-button vjs-button ${typeCssClass}`,\n      ariaLabel: `Playlist ${type} item`\n    });\n  }\n}\n\nexport default PlaylistButton;\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistNextButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'next' });\n  }\n\n  handleClick(event) {\n    event.stopPropagation();\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playNext();\n  }\n}\n\nvideojs.registerComponent('PlaylistNextButton', PlaylistNextButton);\n\nexport default PlaylistNextButton;\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistPreviousButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'previous' });\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playPrevious();\n  }\n}\n\nvideojs.registerComponent('PlaylistPreviousButton', PlaylistPreviousButton);\n\nexport default PlaylistPreviousButton;\n","export const DEFAULT_AUTO_ADVANCE = 0;\n\nexport const DEFAULT_PRESENT_UPCOMING = 10;\n\nexport const UPCOMING_VIDEO_TRANSITION = 1;\n\nexport const PLAYLIST_DEFAULTS_OPTIONS = {\n  fluid: false,\n  show: true,\n  direction: 'vertical',\n  total: 4,\n  selector: false,\n  renderTo: []\n};\n","import VideoSource from 'plugins/cloudinary/models/video-source/video-source';\nimport { isInteger } from 'utils/type-inference';\n\nimport './components/upcoming-video-overlay';\nimport './components/playlist-buttons';\n\nimport {\n  DEFAULT_AUTO_ADVANCE,\n  DEFAULT_PRESENT_UPCOMING,\n  UPCOMING_VIDEO_TRANSITION\n} from './playlist.const';\n\nimport './playlist.scss';\n\nclass Playlist {\n\n  constructor(context, sources = [], { repeat = false, autoAdvance = false, presentUpcoming = false } = {}) {\n    this._context = context;\n    this._sources = [];\n    this._defaultRecResolverCache = {};\n    this._currentIndex = null;\n    this._recommendationsHandler = null;\n    this._autoAdvance = null;\n    this._presentUpcoming = null;\n\n    this.addUiComponents();\n\n    this.resetState = () => {\n      this.repeat(repeat);\n      this.autoAdvance(autoAdvance);\n      this.presentUpcoming(presentUpcoming);\n    };\n\n    sources.forEach((source) => this.enqueue(source));\n\n    this.resetState();\n  }\n\n  list() {\n    return this._sources;\n  }\n\n  player() {\n    return this._context.player;\n  }\n\n  addUiComponents() {\n    const controlBar = this.player().getChild('ControlBar');\n    const children = controlBar.children();\n    controlBar.addChild('playlistPreviousButton', {}, children.findIndex(c => c.name_ === 'PlayToggle'));\n    controlBar.addChild('playlistNextButton', {}, children.findIndex(c => c.name_ === 'PlayToggle') + 1);\n\n    this.player().addChild('upcomingVideoOverlay');\n  }\n\n  presentUpcoming(delay) {\n    this._presentUpcoming = this._presentUpcoming || {};\n\n    if (delay === undefined) {\n      return this._presentUpcoming.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_PRESENT_UPCOMING;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('presentUpcoming \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._presentUpcoming.delay = delay;\n\n    this._setupPresentUpcoming();\n\n    return this._presentUpcoming.delay;\n  }\n\n  autoAdvance(delay) {\n    this._autoAdvance = this._autoAdvance || {};\n\n    if (delay === undefined) {\n      return this._autoAdvance.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_AUTO_ADVANCE;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('Auto advance \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._autoAdvance.delay = delay;\n\n    this._setupAutoAdvance();\n\n    return this._autoAdvance.delay;\n  }\n\n  _setupAutoAdvance() {\n    this._resetAutoAdvance();\n\n    const delay = this._autoAdvance.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    const trigger = () => {\n      if (this.player().ended()) {\n        this._autoAdvance.timeout = setTimeout(() => {\n          this.playNext();\n        }, delay * 1000);\n      }\n    };\n\n    this._autoAdvance = { delay, trigger };\n\n    this._context.on('ended', this._autoAdvance.trigger);\n  }\n\n  dispose() {\n    this._resetAutoAdvance();\n    this._resetPresentUpcoming();\n    this._resetRecommendations();\n  }\n\n  _resetPresentUpcoming() {\n    this.player().trigger('upcomingvideohide');\n\n    if (!this._presentUpcoming) {\n      this._presentUpcoming = {};\n    }\n\n    if (this._presentUpcoming.trigger) {\n      this._context.off('timeupdate', this._presentUpcoming.trigger);\n    }\n\n    this._presentUpcoming.trigger = null;\n    this._presentUpcoming.showTriggered = false;\n  }\n\n  _setupPresentUpcoming() {\n    this._resetPresentUpcoming();\n\n    const delay = this._presentUpcoming.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    this._presentUpcoming.trigger = () => {\n      const currentTime = this.player().currentTime();\n      const duration = this.player().duration();\n\n      const remainingTime = duration - currentTime;\n\n      if (remainingTime < UPCOMING_VIDEO_TRANSITION + 0.5) {\n        if (this._presentUpcoming.showTriggered) {\n          this.player().trigger('upcomingvideohide');\n          this._presentUpcoming.showTriggered = false;\n        }\n      } else if (remainingTime <= this._presentUpcoming.delay && !this._presentUpcoming.showTriggered && !this.player().loop()) {\n        this.player().trigger('upcomingvideoshow');\n        this._presentUpcoming.showTriggered = true;\n      } else if (this._presentUpcoming.showTriggered && (remainingTime > this._presentUpcoming.delay || this.player().loop())) {\n        this.player().trigger('upcomingvideohide');\n        this._presentUpcoming.showTriggered = false;\n      }\n    };\n\n    this._context.on('timeupdate', this._presentUpcoming.trigger);\n  }\n\n  _resetAutoAdvance() {\n    if (!this._autoAdvance) {\n      this._autoAdvance = {};\n    }\n\n    if (this._autoAdvance.timeout) {\n      clearTimeout(this._autoAdvance.timeout);\n    }\n\n    if (this._autoAdvance.trigger) {\n      this._context.off('ended', this._autoAdvance.trigger);\n    }\n\n    this._autoAdvance.timeout = null;\n    this._autoAdvance.trigger = null;\n  }\n\n  _resetRecommendations() {\n    if (this._recommendationsHandler) {\n      this._context.off('ended', this._recommendationsHandler);\n    }\n  }\n\n  _refreshRecommendations() {\n    this._resetRecommendations();\n\n    this._recommendationsHandler = () => {\n      if (this.autoAdvance() === false && this._context.autoShowRecommendations()) {\n        this.player().trigger('recommendationsshow');\n      }\n    };\n\n    this._context.on('ended', this._recommendationsHandler);\n  }\n\n\n  _refreshTextTracks () {\n    this.player().trigger('refreshTextTracks', this.currentSource().textTracks());\n  }\n\n  _recommendationItemBuilder(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (source.recommendations() && (!defaultResolver || source.recommendations() !== defaultResolver)) {\n      return;\n    }\n\n    return (source) => ({ source, action: () => this.playItem(source) });\n  }\n\n  currentIndex(index) {\n    if (index === undefined) {\n      return this._currentIndex;\n    }\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._currentIndex = index;\n\n    const current = this.currentSource();\n\n    const itemBuilder = this._recommendationItemBuilder(current);\n\n    if (!current.recommendations()) {\n      current.recommendations(this._defaultRecommendationsResolver(current));\n    }\n\n    this._context.source(current, { recommendationOptions: { disableAutoShow: true, itemBuilder } });\n\n    const eventData = { playlist: this, current, next: this.next() };\n\n    this.player().trigger('playlistitemchanged', eventData);\n\n    this._refreshRecommendations();\n\n    this._refreshTextTracks();\n\n    return current;\n  }\n\n  _defaultRecommendationsResolver(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (defaultResolver) {\n      return defaultResolver;\n    }\n\n    this._defaultRecResolverCache[source.objectId] = () => {\n      let index = this.list().indexOf(source);\n      const items = [];\n\n      const numOfItems = Math.min(4, this.length() - 1);\n\n      while (items.length < numOfItems) {\n        index = this.nextIndex(index);\n        if (index === -1) {\n          break;\n        }\n\n        const source = this.list()[index];\n        items.push(source);\n      }\n\n      return items;\n    };\n\n    return this._defaultRecResolverCache[source.objectId];\n  }\n\n  buildSource(source, options = {}) {\n    return this._context.buildSource(source, options);\n  }\n\n  enqueue(source, options = {}) {\n    const src = source instanceof VideoSource ? source : this.buildSource(source, options);\n\n    this._sources.push(src);\n\n    return src;\n  }\n\n\n  playItem(item) {\n    let index = this.list().indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item.');\n    }\n\n    this.playAtIndex(index);\n  }\n\n  playAtIndex(index) {\n    this.currentIndex(index);\n    this.player().play();\n\n    return this.currentSource();\n  }\n\n  currentSource() {\n    return this.list()[this.currentIndex()];\n  }\n\n  removeAt(index) {\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._sources.splice(index, 1);\n\n    return this;\n  }\n\n  repeat(repeat) {\n    if (repeat === undefined) {\n      return this._repeat;\n    }\n\n    this._repeat = !!repeat;\n\n    return this._repeat;\n  }\n\n  first() {\n    return this.list()[0];\n  }\n\n  last() {\n    return this.list()[this.length() - 1];\n  }\n\n  next() {\n    const nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.list()[nextIndex];\n  }\n\n  nextIndex(index) {\n    index = index !== undefined ? index : this.currentIndex();\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    const isLast = index === this.length() - 1;\n\n    let nextIndex = index + 1;\n\n    if (isLast) {\n      if (this.repeat()) {\n        nextIndex = 0;\n      } else {\n        return -1;\n      }\n    }\n\n    return nextIndex;\n  }\n\n  previousIndex() {\n    if (this.isFirst()) {\n      return -1;\n    }\n\n    return this.currentIndex() - 1;\n  }\n\n  playFirst() {\n    return this.playAtIndex(0);\n  }\n\n  playLast() {\n    const lastIndex = this.list().length - 1;\n    return this.playAtIndex(lastIndex);\n  }\n\n  isLast() {\n    return this.currentIndex() >= this.length() - 1;\n  }\n\n  isFirst() {\n    return this.currentIndex() === 0;\n  }\n\n  length() {\n    return this.list().length;\n  }\n\n  playNext() {\n    let nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(nextIndex);\n  }\n\n  playPrevious() {\n    let previousIndex = this.previousIndex();\n\n    if (previousIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(previousIndex);\n  }\n\n  playlistByTag = (tag, options = {}) => {\n    return this.player().sourcesByTag(tag, options).then(sources => this.player().playlist(sources, options));\n  };\n}\n\nexport default Playlist;\n","import videojs from 'video.js';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport { wrap } from 'utils/dom';\nimport {\n  skinClassPrefix,\n  playerClassPrefix\n} from 'utils/css-prefix';\n\nconst dom = videojs.dom || videojs;\nconst Component = videojs.getComponent('Component');\n\nconst OPTIONS_DEFAULT = {\n  wrap: false\n};\n\nclass PlaylistLayout extends Component {\n  constructor(player, options) {\n    const layoutOptions = { ...OPTIONS_DEFAULT, ...options };\n    super(player, layoutOptions);\n    this.player_ = player;\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n      this.removeCls();\n      this.setCls();\n    };\n\n    const wrapVideoWithLayout = () => {\n      const el = this.el();\n\n      this.videoWrap_ = dom.createEl('div', { className: 'cld-plw-col-player' });\n      this.contentEl_ = this.contentEl_ = dom.createEl('div', { className: 'cld-plw-col-list' });\n\n      wrap(this.player().el(), el);\n\n      el.appendChild(this.videoWrap_);\n      el.appendChild(this.contentEl_);\n\n      wrap(this.player().el(), this.videoWrap_);\n    };\n\n    if (layoutOptions.wrap) {\n      wrapVideoWithLayout();\n    }\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.addChild(PLAYER_EVENT.PLAYLIST_PANEL, this.options_);\n\n    this.setCls();\n\n    this.dispose = () => {\n      this.removeLayout();\n      super.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  getCls() {\n    let cls = ['cld-video-player', 'cld-plw-layout'];\n\n    cls.push(skinClassPrefix(this.player()));\n    cls.push(playerClassPrefix(this.player()));\n\n    if (this.options_.fluid) {\n      cls.push('cld-plw-layout-fluid');\n    }\n\n    return cls;\n  }\n\n  setCls() {\n    this.removeClass(skinClassPrefix(this.player()));\n    this.getCls().forEach((cls) => {\n      this.addClass(cls);\n    });\n  }\n\n  removeCls() {\n    this.getCls().forEach((cls) => {\n      this.removeClass(cls);\n    });\n  }\n\n  update(optionToChange, options) {\n    this.options(options);\n    this.removeChild('PlaylistPanel');\n    this.addChild('PlaylistPanel', this.options_);\n    this.trigger('playlistlayoutupdate');\n  }\n\n  removeLayout() {\n    const parentElem = this.el().parentElement;\n    if (parentElem) {\n      parentElem.appendChild(this.player().el());\n    }\n  }\n\n  createEl() {\n    const el = super.createEl('div');\n\n    // Apply font styles on wrapper div.\n    el.style.fontFamily = this.player().el().style.fontFamily;\n\n    return el;\n  }\n\n}\n\nvideojs.registerComponent('playlistLayout', PlaylistLayout);\n\nexport default PlaylistLayout;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutHorizontal extends PlaylistLayout {\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-horizontal');\n    return cls;\n  }\n}\n\nexport default PlaylistLayoutHorizontal;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutVertical extends PlaylistLayout {\n\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-vertical');\n\n    return cls;\n  }\n}\n\n\nexport default PlaylistLayoutVertical;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutCustom extends PlaylistLayout {\n\n  getCls() {\n    let cls = super.getCls();\n    cls.push('cld-plw-custom');\n\n    return cls;\n  }\n\n  createEl() {\n    const el = super.createEl();\n    this.options_.renderTo.appendChild(el);\n\n    return el;\n  }\n}\n\n\nexport default PlaylistLayoutCustom;\n","import videojs from 'video.js';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport PlaylistLayoutHorizontal from './layout/playlist-layout-horizontal';\nimport PlaylistLayoutVertical from './layout/playlist-layout-vertical';\nimport PlaylistLayoutCustom from './layout/playlist-layout-custom';\nimport { PLAYLIST_DEFAULTS_OPTIONS } from './playlist.const';\n\nconst modifyOptions = (player, opt) => {\n  const options = { ...PLAYLIST_DEFAULTS_OPTIONS, ...opt };\n\n  if (options.show && typeof options.selector === 'string') {\n    options.useDefaultLayout = false;\n    options.useCustomLayout = true;\n    options.renderTo = document.querySelector(options.selector);\n    options.showAll = true;\n\n    if (!options.renderTo.length === 0) {\n      throw new Error(`Couldn't find element(s) by selector '${options.selector}' for playlist`);\n    }\n  }\n\n  if (options.show && !options.selector) {\n    options.useDefaultLayout = true;\n    options.useCustomLayout = false;\n  }\n\n  options.direction = options.direction.toLowerCase() === 'horizontal' ? 'horizontal' : 'vertical';\n\n  options.skin = player.options_.skin;\n\n  return options;\n};\n\nclass PlaylistWidget {\n  constructor(player, options = {}) {\n    options = modifyOptions(player, options);\n    this.options_ = options;\n    this.player_ = player;\n    this.render();\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n    };\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.options = options => {\n      if (!options) {\n        return this.options_;\n      }\n\n      this.options_ = videojs.obj.merge(this.options_, options);\n      player.trigger('playlistwidgetoption', this.options_.playlistWidget);\n      return this.options_;\n    };\n\n    this.dispose = () => {\n      this.layout_.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  render() {\n    if (this.options_.useDefaultLayout) {\n      if (this.options_.direction === 'horizontal') {\n        this.layout_ = new PlaylistLayoutHorizontal(this.player_, this.options_);\n      } else {\n        this.layout_ = new PlaylistLayoutVertical(this.player_, this.options_);\n      }\n    }\n\n    if (this.options_.useCustomLayout) {\n      this.layout_ = new PlaylistLayoutCustom(this.player_, this.options_);\n    }\n  }\n\n  getLayout() {\n    return this.layout_;\n  }\n\n  update(optionName, optionValue) {\n    this.options(optionValue);\n\n    if (optionName === 'direction') {\n      this.layout_.removeLayout();\n      this.layout_.dispose();\n      this.render();\n    } else {\n      this.layout_.update(optionName, this.options_);\n    }\n  }\n\n  setSkin() {\n    this.layout_.setCls();\n  }\n\n  total(totalNumber = PLAYLIST_DEFAULTS_OPTIONS.total) {\n    const total = parseInt(totalNumber, 10);\n\n    if (total !== this.options_.total && typeof total === 'number' && total > 0) {\n      this.update('total', { total: total });\n    }\n\n    return this;\n  }\n\n  direction(direction = PLAYLIST_DEFAULTS_OPTIONS.direction) {\n    if (direction === 'horizontal' || direction === 'vertical') {\n      this.update('direction', { direction: direction });\n    }\n\n    return this;\n  }\n}\n\nexport default PlaylistWidget;\n","import videojs from 'video.js';\nimport './thumbnail.scss';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nconst THUMB_DEFAULT_WIDTH = 300;\n\nconst DEFAULT_OPTIONS = {\n  item: null,\n  transformation: {\n    width: THUMB_DEFAULT_WIDTH,\n    aspect_ratio: '16:9',\n    crop: 'pad',\n    background: 'black'\n  }\n};\n\nclass Thumbnail extends ClickableComponent {\n\n  constructor(player, initOptions) {\n    const options = videojs.obj.merge(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  getItem() {\n    return this.options_.item;\n  }\n\n  getTitle() {\n    return this.getItem().info().title;\n  }\n\n  getDuration() {\n    return ' ';// this.getItem().info().title;\n  }\n\n  getThumbnail() {\n    return this.getItem().poster().url({ transformation: this.options_.transformation });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n  }\n\n  createControlTextEl() {\n    return;\n  }\n\n  createEl(tag = 'a') {\n    const el = super.createEl(tag, {\n      className: 'cld-thumbnail',\n      href: '#'\n    });\n\n    const img = super.createEl('img', {\n      className: 'cld-thumbnail-img',\n      src: this.getThumbnail()\n    });\n\n    el.appendChild(img);\n\n    el.style.backgroundImage = `url('${this.getThumbnail()}')`;\n\n    return el;\n  }\n}\n\nexport default Thumbnail;\n","import videojs from 'video.js';\nimport Thumbnail from '../thumbnail/thumbnail';\n\nconst dom = videojs.dom || videojs;\n\nconst DEFAULT_OPTIONS = {\n  source: null,\n  next: false\n};\n\nclass PlaylistPanelItem extends Thumbnail {\n\n  constructor(player, initOptions) {\n    const options = videojs.obj.merge(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.play();\n  }\n\n  play() {\n    const item = this.getItem();\n    const list = this.player().cloudinary.playlist().list();\n    const index = list.indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item...');\n    }\n\n    this.player().cloudinary.playlist().playAtIndex(index);\n  }\n\n  isCurrent() {\n    return this.options_.current;\n  }\n\n  getTitle() {\n    return super.getTitle();\n  }\n\n  getDuration() {\n    return super.getDuration();\n  }\n\n  createEl() {\n    const el = super.createEl();\n\n    el.classList.add('cld-plw-panel-item');\n\n    const info = dom.createEl('div', { className: 'cld-plw-item-info-wrap' });\n    const titleWrap = dom.createEl('div', { className: 'cld-plw-item-title' });\n\n    if (this.isCurrent()) {\n      el.classList.add('cld-plw-panel-item-active');\n\n      const currEl = dom.createEl('span', {\n        className: 'cld-plw-item-title-curr'\n      }, {}, 'Now Playing: ');\n\n      titleWrap.appendChild(currEl);\n    }\n\n    const title = dom.createEl('span', { className: 'cld-plw-item-title' }, {}, this.getTitle());\n\n    titleWrap.appendChild(title);\n\n    const duration = dom.createEl('div', { className: 'cld-plw-item-duration' }, {}, this.getDuration());\n\n    info.appendChild(titleWrap);\n    info.appendChild(duration);\n\n    if (el) {\n      el.appendChild(info);\n    }\n\n    el.appendChild(info);\n\n    return el;\n  }\n}\n\nvideojs.registerComponent('playlistPanelItem', PlaylistPanelItem);\n\nexport default PlaylistPanelItem;\n","import videojs from 'video.js';\nimport PlaylistPanelItem from './playlist-panel-item';\nimport { PLAYER_EVENT } from 'utils/consts';\n\n\nconst Component = videojs.getComponent('Component');\n\nclass PlaylistPanel extends Component {\n\n  constructor(player, options = {}) {\n    super(player, options);\n\n    const itemChangeHandler = () => {\n      this.render();\n    };\n\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n\n    this.render();\n\n    this.dispose = () => {\n      super.dispose();\n      player.off(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n    };\n  }\n\n  createEl() {\n    const el = super.createEl();\n    el.classList.add('cld-plw-panel');\n\n    return el;\n  }\n\n  removeAll() {\n    const children = this.children();\n    for (let i = children.length - 1; i >= 0; --i) {\n      this.removeChild(children[i]);\n    }\n  }\n\n  getItems() {\n    const playlist = this.player().cloudinary.playlist();\n    const repeat = playlist._repeat;\n\n    if (this.options_.showAll) {\n      return playlist.list();\n    }\n\n    const items = [];\n    const numOfItems = this.options_.total;\n    let index = playlist.currentIndex();\n    let source = playlist.list()[index];\n    items.push(source);\n\n    while (items.length < numOfItems) {\n      index = playlist.nextIndex(index);\n      if (index === -1) {\n        if (!repeat && items.length > 0) {\n          break;\n        }\n\n        index = 0;\n      }\n\n      source = playlist.list()[index];\n      items.push(source);\n    }\n\n    return items;\n  }\n\n  render() {\n    const items = this.getItems();\n\n    this.removeAll();\n\n    items.forEach((source, index) => {\n      const playlistItem = new PlaylistPanelItem(this.player(), videojs.obj.merge(this.options_, {\n        item: source,\n        next: index === 1,\n        current: index === 0\n      }));\n\n      this.addChild(playlistItem);\n\n    });\n  }\n}\n\nvideojs.registerComponent('playlistPanel', PlaylistPanel);\n\nexport default PlaylistPanel;\n","import { sliceProperties } from 'utils/slicing';\nimport { normalizeJsonResponse } from 'utils/api';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport { isPlainObject } from 'utils/type-inference';\nimport { getCloudinaryUrl } from 'plugins/cloudinary/common';\n\nimport Playlist from './ui/playlist';\nimport PlaylistWidget from './ui/playlist-widget';\nimport './ui/panel/playlist-panel';\n\nconst LIST_BY_TAG_PARAMS = { format: 'json', resource_type: 'video', type: 'list' };\n\nconst playlist = (player, options = {}) => {\n  const chainTarget = sliceProperties(options, 'chainTarget').chainTarget;\n  let playlistInstance = null;\n  let playlistDisposer = null;\n  let playlistWidget = null;\n\n  const initPlaylistWidget = () => {\n    player.on(PLAYER_EVENT.PLAYLIST_CREATED, () => {\n      if (playlistWidget) {\n        playlistWidget.dispose();\n      }\n\n      if (isPlainObject(options.playlistWidget)) {\n        if (player.fluid_) {\n          options.playlistWidget.fluid = true;\n        }\n\n        if (player.cloudinary.fontFace) {\n          options.playlistWidget.fontFace = player.cloudinary.fontFace;\n        }\n\n        playlistWidget = new PlaylistWidget(player, options.playlistWidget);\n      }\n    });\n  };\n\n  const disposePlaylist = () => {\n    player.removeClass('vjs-playlist');\n    playlistInstance = undefined;\n    player.playlist().dispose();\n    player.off('cldsourcechanged', playlistDisposer);\n  };\n\n  const addPlaylistDisposer = () => {\n    const disposer = () => {\n      if (\n        playlistInstance &&\n        !playlistInstance.currentSource().contains(player.currentSource())\n      ) {\n        player.disposePlaylist();\n      }\n    };\n\n    player.on('cldsourcechanged', disposer);\n\n    return disposer;\n  };\n\n  const createPlaylist = (sources, options) => {\n    if (sources instanceof Playlist) {\n      playlistInstance = sources;\n      playlistInstance.resetState();\n      playlistInstance.currentIndex(playlistInstance.currentIndex());\n    } else {\n      playlistInstance = new Playlist(player.cloudinary, sources, options);\n      playlistInstance.currentIndex(0);\n    }\n\n    initPlaylistWidget();\n\n    playlistDisposer = addPlaylistDisposer();\n    player.addClass('vjs-playlist');\n  };\n\n  player.cloudinary.sourcesByTag = async (tag, options = {}) => {\n    const url = getCloudinaryUrl(\n      tag,\n      Object.assign({}, player.cloudinary.cloudinaryConfig(), LIST_BY_TAG_PARAMS)\n    );\n\n    const result = await fetch(url);\n    const json = await result.json();\n\n    const resources = normalizeJsonResponse(json.resources);\n\n    if (options.sorter) {\n      resources.sort(options.sorter);\n    }\n\n    const sources = resources.map(resource => {\n      let sourceParams = options.sourceParams || {};\n\n      if (typeof sourceParams === 'function') {\n        sourceParams = sourceParams(resource);\n      }\n\n      const info = (resource.context && resource.context.custom) || {};\n\n      const source = Object.assign({ info }, sourceParams, { publicId: resource.publicId });\n\n      return player.cloudinary.buildSource(source);\n    });\n\n    return sources;\n  };\n\n  return (sources, options = {}) => {\n    if (sources === undefined) {\n      return playlistInstance;\n    }\n\n    if (playlistInstance) {\n      disposePlaylist();\n    }\n\n    createPlaylist(sources, options);\n    player.trigger('playlistcreated');\n\n    return chainTarget;\n  };\n};\n\nexport default playlist;\n","// https://github.com/csnover/js-iso8601/blob/master/iso8601.js\nconst numericKeys = [1, 4, 5, 6, 7, 10, 11];\n\nconst parseISO8601 = function (date) {\n  let timestamp = 0;\n  let struct = 0;\n  let minutesOffset = 0;\n\n  // ES5 §15.9.4.2 states that the string should attempt to be parsed as a Date Time String Format string\n  // before falling back to any implementation-specific date parsing, so that’s what we do, even if native\n  // implementations could be faster\n  //              1 YYYY                2 MM       3 DD           4 HH    5 mm       6 ss        7 msec        8 Z 9 ±    10 tzHH    11 tzmm\n  if ((struct = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/.exec(date))) {\n    // avoid NaN timestamps caused by “undefined” values being passed to Date.UTC\n    for (let i = 0, k; (k = numericKeys[i]); ++i) {\n      struct[k] = +struct[k] || 0;\n    }\n\n    // allow undefined days and months\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1;\n\n    if (struct[8] !== 'Z' && struct[9] !== undefined) {\n      minutesOffset = struct[10] * 60 + struct[11];\n\n      if (struct[9] === '+') {\n        minutesOffset = 0 - minutesOffset;\n      }\n    }\n\n    timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n  } else {\n    timestamp = NaN;\n  }\n\n  return timestamp;\n};\n\n// Convert time string i.e. '2:40' to seconds number (160)\n// Also allows h:m:s format and mm:ss, m:s etc.\nconst parseTime = function (hms) {\n  const [seconds, minutes, hours] = hms.split(':').reverse();\n  let sum = null;\n  if (!isNaN(seconds)) {\n    sum = (+hours || 0) * 60 * 60 + (+minutes || 0) * 60 + (+seconds);\n  }\n  return sum;\n};\n\nexport { parseISO8601, parseTime };\n"],"names":["TIME_FIELDS","normalizeJsonResponse","obj","agg","isPlainObject","Object","keys","reduce","key","newKey","camelize","indexOf","Date","parseISO8601","Array","isArray","map","item","dom","videojs","Component","ClickableComponent","UpcomingVideoOverlay","static","constructor","player","_len","arguments","length","args","_key","super","this","_setEvents","on","PLAYER_EVENT","UP_COMING_VIDEO_SHOW","_show","UP_COMING_VIDEO_HIDE","_hide","PLAYLIST_ITEM_CHANGED","_onPlaylistItemChange","removeClass","VJS_UPCOMING_VIDEO_SHOW","_disableTransition","block","addClass","DISABLE_TRANSITION_CLASS","_","event","next","setItem","ima","adsManager","getAdsManager","getCurrentAd","isLinear","setTitle","source","getChild","setContent","info","title","publicId","_source","maxWidth","parseInt","window","getComputedStyle","el","getPropertyValue","transformation","crop","background","width","height","Math","round","content","style","backgroundImage","poster","url","handleClick","cloudinary","playlist","playNext","createEl","className","UpcomingVideoOverlayContent","UpcomingVideoOverlayBar","prototype","options_","children","_contentSpan","innerText","container","innerHTML","appendChild","options","type","Error","typeCssClass","ariaLabel","PlaylistButton","stopPropagation","playPrevious","PLAYLIST_DEFAULTS_OPTIONS","fluid","show","direction","total","selector","renderTo","context","sources","undefined","repeat","autoAdvance","presentUpcoming","_context","_sources","_defaultRecResolverCache","_currentIndex","_recommendationsHandler","_autoAdvance","_presentUpcoming","addUiComponents","resetState","forEach","enqueue","list","controlBar","addChild","findIndex","c","name_","delay","isInteger","_setupPresentUpcoming","_setupAutoAdvance","_resetAutoAdvance","trigger","ended","timeout","setTimeout","dispose","_resetPresentUpcoming","_resetRecommendations","off","showTriggered","currentTime","remainingTime","duration","UPCOMING_VIDEO_TRANSITION","loop","clearTimeout","_refreshRecommendations","autoShowRecommendations","_refreshTextTracks","currentSource","textTracks","_recommendationItemBuilder","defaultResolver","objectId","recommendations","action","playItem","currentIndex","index","current","itemBuilder","_defaultRecommendationsResolver","recommendationOptions","disableAutoShow","eventData","items","numOfItems","min","nextIndex","push","buildSource","src","VideoSource","playAtIndex","play","removeAt","splice","_repeat","first","last","previousIndex","isFirst","playFirst","playLast","lastIndex","isLast","playlistByTag","_this","tag","sourcesByTag","then","OPTIONS_DEFAULT","wrap","PlaylistLayout","layoutOptions","player_","fluidHandler","e","removeCls","setCls","wrapVideoWithLayout","videoWrap_","contentEl_","FLUID","PLAYLIST_PANEL","removeLayout","getCls","cls","skinClassPrefix","playerClassPrefix","update","optionToChange","removeChild","parentElem","parentElement","fontFamily","modifyOptions","opt","useDefaultLayout","useCustomLayout","document","querySelector","showAll","toLowerCase","skin","render","merge","playlistWidget","layout_","PlaylistLayoutHorizontal","PlaylistLayoutVertical","PlaylistLayoutCustom","getLayout","optionName","optionValue","setSkin","DEFAULT_OPTIONS","aspect_ratio","initOptions","getItem","getTitle","getDuration","getThumbnail","preventDefault","createControlTextEl","href","img","PlaylistPanelItem","Thumbnail","isCurrent","classList","add","titleWrap","currEl","itemChangeHandler","removeAll","i","getItems","playlistItem","LIST_BY_TAG_PARAMS","format","resource_type","chainTarget","sliceProperties","playlistInstance","playlistDisposer","initPlaylistWidget","PLAYLIST_CREATED","fluid_","fontFace","PlaylistWidget","async","getCloudinaryUrl","assign","cloudinaryConfig","result","fetch","json","resources","sorter","sort","resource","sourceParams","custom","createPlaylist","Playlist","addPlaylistDisposer","disposer","contains","disposePlaylist","numericKeys","date","timestamp","struct","minutesOffset","exec","k","UTC","NaN","parseTime","hms","seconds","minutes","hours","split","reverse","sum","isNaN"],"sourceRoot":""}