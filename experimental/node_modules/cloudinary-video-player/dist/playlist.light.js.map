{"version":3,"file":"playlist.light.js","mappings":"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","sources":["webpack://cloudinary-video-player/./plugins/playlist/playlist.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-button.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-buttons.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-next-button.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-previous-button.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/upcoming-video-overlay.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout-custom.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout-horizontal.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout-vertical.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout.js","webpack://cloudinary-video-player/./plugins/playlist/ui/panel/playlist-panel-item.js","webpack://cloudinary-video-player/./plugins/playlist/ui/panel/playlist-panel.js","webpack://cloudinary-video-player/./plugins/playlist/ui/playlist-widget.js","webpack://cloudinary-video-player/./plugins/playlist/ui/playlist.const.js","webpack://cloudinary-video-player/./plugins/playlist/ui/playlist.js","webpack://cloudinary-video-player/./plugins/playlist/ui/thumbnail/thumbnail.js","webpack://cloudinary-video-player/./utils/api.js","webpack://cloudinary-video-player/./utils/time.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-buttons.scss?e3d5","webpack://cloudinary-video-player/./plugins/playlist/ui/components/upcoming-video-overlay.scss?50e1","webpack://cloudinary-video-player/./plugins/playlist/ui/playlist.scss?8d46","webpack://cloudinary-video-player/./plugins/playlist/ui/thumbnail/thumbnail.scss?4f65"],"sourcesContent":["import { sliceProperties } from 'utils/slicing';\nimport { normalizeJsonResponse } from 'utils/api';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport { isPlainObject } from 'utils/type-inference';\nimport { getCloudinaryUrl } from 'plugins/cloudinary/common';\n\nimport Playlist from './ui/playlist';\nimport PlaylistWidget from './ui/playlist-widget';\nimport './ui/panel/playlist-panel';\n\nconst LIST_BY_TAG_PARAMS = { format: 'json', resource_type: 'video', type: 'list' };\n\nconst playlist = (player, options = {}) => {\n  const chainTarget = sliceProperties(options, 'chainTarget').chainTarget;\n  let playlistInstance = null;\n  let playlistDisposer = null;\n  let playlistWidget = null;\n\n  const initPlaylistWidget = () => {\n    player.on(PLAYER_EVENT.PLAYLIST_CREATED, () => {\n      if (playlistWidget) {\n        playlistWidget.dispose();\n      }\n\n      if (isPlainObject(options.playlistWidget)) {\n        if (player.fluid_) {\n          options.playlistWidget.fluid = true;\n        }\n\n        if (player.cloudinary.fontFace) {\n          options.playlistWidget.fontFace = player.cloudinary.fontFace;\n        }\n\n        playlistWidget = new PlaylistWidget(player, options.playlistWidget);\n      }\n    });\n  };\n\n  const disposePlaylist = () => {\n    player.removeClass('vjs-playlist');\n    playlistInstance = undefined;\n    player.playlist().dispose();\n    player.off('cldsourcechanged', playlistDisposer);\n  };\n\n  const addPlaylistDisposer = () => {\n    const disposer = () => {\n      if (\n        playlistInstance &&\n        !playlistInstance.currentSource().contains(player.currentSource())\n      ) {\n        player.disposePlaylist();\n      }\n    };\n\n    player.on('cldsourcechanged', disposer);\n\n    return disposer;\n  };\n\n  const createPlaylist = (sources, options) => {\n    if (sources instanceof Playlist) {\n      playlistInstance = sources;\n      playlistInstance.resetState();\n      playlistInstance.currentIndex(playlistInstance.currentIndex());\n    } else {\n      playlistInstance = new Playlist(player.cloudinary, sources, options);\n      playlistInstance.currentIndex(0);\n    }\n\n    initPlaylistWidget();\n\n    playlistDisposer = addPlaylistDisposer();\n    player.addClass('vjs-playlist');\n  };\n\n  player.cloudinary.sourcesByTag = async (tag, options = {}) => {\n    const url = getCloudinaryUrl(\n      tag,\n      Object.assign({}, player.cloudinary.cloudinaryConfig(), LIST_BY_TAG_PARAMS)\n    );\n\n    const result = await fetch(url);\n    const json = await result.json();\n\n    const resources = normalizeJsonResponse(json.resources);\n\n    if (options.sorter) {\n      resources.sort(options.sorter);\n    }\n\n    const sources = resources.map(resource => {\n      let sourceParams = options.sourceParams || {};\n\n      if (typeof sourceParams === 'function') {\n        sourceParams = sourceParams(resource);\n      }\n\n      const info = (resource.context && resource.context.custom) || {};\n\n      const source = Object.assign({ info }, sourceParams, { publicId: resource.publicId });\n\n      return player.cloudinary.buildSource(source);\n    });\n\n    return sources;\n  };\n\n  return (sources, options = {}) => {\n    if (sources === undefined) {\n      return playlistInstance;\n    }\n\n    if (playlistInstance) {\n      disposePlaylist();\n    }\n\n    createPlaylist(sources, options);\n    player.trigger('playlistcreated');\n\n    return chainTarget;\n  };\n};\n\nexport default playlist;\n","import videojs from 'video.js';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\n// Create a common class for playlist buttons\nclass PlaylistButton extends ClickableComponent {\n\n  constructor(player, options) {\n    // It is important to invoke the superclass before anything else,\n    // to get all the features of components out of the box!\n    super(player, options);\n\n    const type = options.type;\n\n    if (!type && type !== 'previous' && type !== 'next') {\n      throw new Error('Type must be either \\'previous\\' or \\'next\\'');\n    }\n  }\n\n  // The `createEl` function of a component creates its DOM element.\n  createEl() {\n    const type = this.options_.type;\n    const typeCssClass = `vjs-icon-${type}-item`;\n\n    return videojs.dom.createEl('button', {\n      // Prefixing classes of elements within a player with \"vjs-\"\n      // is a convention used in Video.js.\n      className: `vjs-control vjs-playlist-button vjs-button ${typeCssClass}`,\n      ariaLabel: `Playlist ${type} item`\n    });\n  }\n}\n\nexport default PlaylistButton;\n","import PlaylistNextButton from './playlist-next-button';\nimport PlaylistPreviousButton from './playlist-previous-button';\nimport './playlist-buttons.scss';\n\nexport { PlaylistNextButton, PlaylistPreviousButton };\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistNextButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'next' });\n  }\n\n  handleClick(event) {\n    event.stopPropagation();\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playNext();\n  }\n}\n\nvideojs.registerComponent('PlaylistNextButton', PlaylistNextButton);\n\nexport default PlaylistNextButton;\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistPreviousButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'previous' });\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playPrevious();\n  }\n}\n\nvideojs.registerComponent('PlaylistPreviousButton', PlaylistPreviousButton);\n\nexport default PlaylistPreviousButton;\n","import videojs from 'video.js';\nimport './upcoming-video-overlay.scss';\nimport { PLAYER_EVENT } from 'utils/consts';\n\n// support VJS5 & VJS6 at the same time\nconst dom = videojs.dom || videojs;\n\nconst Component = videojs.getComponent('Component');\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass UpcomingVideoOverlay extends ClickableComponent {\n\n  static DISABLE_TRANSITION_CLASS = 'disable-transition';\n  static VJS_UPCOMING_VIDEO_SHOW = 'vjs-upcoming-video-show';\n\n  constructor(player, ...args) {\n    super(player, ...args);\n\n    this._setEvents(player);\n  }\n\n  _setEvents(player) {\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_SHOW, this._show);\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_HIDE, this._hide);\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, this._onPlaylistItemChange);\n  }\n\n  _hide = () => {\n    this.removeClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n  }\n\n  _disableTransition(block) {\n    this.addClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n    block();\n    this.removeClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n  }\n\n  _onPlaylistItemChange = (_, event) => {\n    this._hide();\n    this._disableTransition(() => {\n      if (event.next) {\n        this.setItem(event.next);\n      }\n    });\n  }\n\n  _show = () => {\n    const ima = this.player().ima;\n    const adsManager = ima === 'object' && ima.getAdsManager();\n\n    if (adsManager) {\n      if (!adsManager.getCurrentAd() || adsManager.getCurrentAd().isLinear()) {\n        this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n      }\n    } else {\n      this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n    }\n  }\n\n  setTitle(source) {\n    const title = this.getChild('upcomingVideoOverlayContent')\n      .getChild('upcomingVideoOverlayBar')\n      .getChild('upcomingVideoOverlayTitle');\n\n    title.setContent(source.info().title || source.publicId());\n  }\n\n  setItem(source) {\n    this._source = source;\n\n    const maxWidth = parseInt(window.getComputedStyle(this.el(), null).getPropertyValue('max-width'), 10);\n    const maxHeight = Math.round(maxWidth * (9 / 16.0));\n\n    const transformation = { crop: 'pad', background: 'auto:predominant', width: maxWidth, height: maxHeight };\n    const content = this.getChild('upcomingVideoOverlayContent');\n\n    this.setTitle(source);\n\n    content.el().style.backgroundImage = `url(\"${this._source.poster().url({ transformation })}\")`;\n  }\n\n  handleClick() {\n    super.handleClick(event);\n\n    this.player().cloudinary.playlist().playNext();\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayContent extends Component {\n  createEl() {\n    // Content wraps image and bar\n    return super.createEl('div', {\n      className: 'upcoming-video-overlay aspect-ratio-content'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayTitle extends Component {\n\n  setContent(title) {\n    this._contentSpan.innerText = title;\n  }\n\n  createEl() {\n    const el = super.createEl('div', {\n      className: 'vjs-control vjs-upcoming-video-title'\n    });\n\n    const container = dom.createEl('div', {\n      className: 'vjs-upcoming-video-title-display',\n      innerHTML: '<span class=\"vjs-control-text\">Next up</span>Next up: '\n    });\n\n    this._contentSpan = dom.createEl('span', {\n      className: 'vjs-upcoming-video-title-display-label'\n    });\n\n    container.appendChild(this._contentSpan);\n\n    el.appendChild(container);\n\n    return el;\n  }\n}\n\nclass UpcomingVideoOverlayBar extends Component {\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video-bar'\n    });\n  }\n}\n\nUpcomingVideoOverlay.prototype.options_ = { children: ['upcomingVideoOverlayContent'] };\nvideojs.registerComponent('upcomingVideoOverlay', UpcomingVideoOverlay);\n\nUpcomingVideoOverlayContent.prototype.options_ = { children: ['upcomingVideoOverlayBar'] };\nvideojs.registerComponent('upcomingVideoOverlayContent', UpcomingVideoOverlayContent);\n\nUpcomingVideoOverlayBar.prototype.options_ = { children: ['upcomingVideoOverlayTitle', 'playlistNextButton'] };\nvideojs.registerComponent('upcomingVideoOverlayBar', UpcomingVideoOverlayBar);\n\nvideojs.registerComponent('upcomingVideoOverlayTitle', UpcomingVideoOverlayTitle);\n\nexport default UpcomingVideoOverlay;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutCustom extends PlaylistLayout {\n\n  getCls() {\n    let cls = super.getCls();\n    cls.push('cld-plw-custom');\n\n    return cls;\n  }\n\n  createEl() {\n    const el = super.createEl();\n    this.options_.renderTo.appendChild(el);\n\n    return el;\n  }\n}\n\n\nexport default PlaylistLayoutCustom;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutHorizontal extends PlaylistLayout {\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-horizontal');\n    return cls;\n  }\n}\n\nexport default PlaylistLayoutHorizontal;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutVertical extends PlaylistLayout {\n\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-vertical');\n\n    return cls;\n  }\n}\n\n\nexport default PlaylistLayoutVertical;\n","import videojs from 'video.js';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport { wrap } from 'utils/dom';\nimport {\n  skinClassPrefix,\n  playerClassPrefix\n} from 'utils/css-prefix';\n\nconst dom = videojs.dom || videojs;\nconst Component = videojs.getComponent('Component');\n\nconst OPTIONS_DEFAULT = {\n  wrap: false\n};\n\nclass PlaylistLayout extends Component {\n  constructor(player, options) {\n    const layoutOptions = { ...OPTIONS_DEFAULT, ...options };\n    super(player, layoutOptions);\n    this.player_ = player;\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n      this.removeCls();\n      this.setCls();\n    };\n\n    const wrapVideoWithLayout = () => {\n      const el = this.el();\n\n      this.videoWrap_ = dom.createEl('div', { className: 'cld-plw-col-player' });\n      this.contentEl_ = this.contentEl_ = dom.createEl('div', { className: 'cld-plw-col-list' });\n\n      wrap(this.player().el(), el);\n\n      el.appendChild(this.videoWrap_);\n      el.appendChild(this.contentEl_);\n\n      wrap(this.player().el(), this.videoWrap_);\n    };\n\n    if (layoutOptions.wrap) {\n      wrapVideoWithLayout();\n    }\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.addChild(PLAYER_EVENT.PLAYLIST_PANEL, this.options_);\n\n    this.setCls();\n\n    this.dispose = () => {\n      this.removeLayout();\n      super.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  getCls() {\n    let cls = ['cld-video-player', 'cld-plw-layout'];\n\n    cls.push(skinClassPrefix(this.player()));\n    cls.push(playerClassPrefix(this.player()));\n\n    if (this.options_.fluid) {\n      cls.push('cld-plw-layout-fluid');\n    }\n\n    return cls;\n  }\n\n  setCls() {\n    this.removeClass(skinClassPrefix(this.player()));\n    this.getCls().forEach((cls) => {\n      this.addClass(cls);\n    });\n  }\n\n  removeCls() {\n    this.getCls().forEach((cls) => {\n      this.removeClass(cls);\n    });\n  }\n\n  update(optionToChange, options) {\n    this.options(options);\n    this.removeChild('PlaylistPanel');\n    this.addChild('PlaylistPanel', this.options_);\n    this.trigger('playlistlayoutupdate');\n  }\n\n  removeLayout() {\n    const parentElem = this.el().parentElement;\n    if (parentElem) {\n      parentElem.appendChild(this.player().el());\n    }\n  }\n\n  createEl() {\n    const el = super.createEl('div');\n\n    // Apply font styles on wrapper div.\n    el.style.fontFamily = this.player().el().style.fontFamily;\n\n    return el;\n  }\n\n}\n\nvideojs.registerComponent('playlistLayout', PlaylistLayout);\n\nexport default PlaylistLayout;\n","import videojs from 'video.js';\nimport Thumbnail from '../thumbnail/thumbnail';\n\nconst dom = videojs.dom || videojs;\n\nconst DEFAULT_OPTIONS = {\n  source: null,\n  next: false\n};\n\nclass PlaylistPanelItem extends Thumbnail {\n\n  constructor(player, initOptions) {\n    const options = videojs.obj.merge(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.play();\n  }\n\n  play() {\n    const item = this.getItem();\n    const list = this.player().cloudinary.playlist().list();\n    const index = list.indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item...');\n    }\n\n    this.player().cloudinary.playlist().playAtIndex(index);\n  }\n\n  isCurrent() {\n    return this.options_.current;\n  }\n\n  getTitle() {\n    return super.getTitle();\n  }\n\n  getDuration() {\n    return super.getDuration();\n  }\n\n  createEl() {\n    const el = super.createEl();\n\n    el.classList.add('cld-plw-panel-item');\n\n    const info = dom.createEl('div', { className: 'cld-plw-item-info-wrap' });\n    const titleWrap = dom.createEl('div', { className: 'cld-plw-item-title' });\n\n    if (this.isCurrent()) {\n      el.classList.add('cld-plw-panel-item-active');\n\n      const currEl = dom.createEl('span', {\n        className: 'cld-plw-item-title-curr'\n      }, {}, 'Now Playing: ');\n\n      titleWrap.appendChild(currEl);\n    }\n\n    const title = dom.createEl('span', { className: 'cld-plw-item-title' }, {}, this.getTitle());\n\n    titleWrap.appendChild(title);\n\n    const duration = dom.createEl('div', { className: 'cld-plw-item-duration' }, {}, this.getDuration());\n\n    info.appendChild(titleWrap);\n    info.appendChild(duration);\n\n    if (el) {\n      el.appendChild(info);\n    }\n\n    el.appendChild(info);\n\n    return el;\n  }\n}\n\nvideojs.registerComponent('playlistPanelItem', PlaylistPanelItem);\n\nexport default PlaylistPanelItem;\n","import videojs from 'video.js';\nimport PlaylistPanelItem from './playlist-panel-item';\nimport { PLAYER_EVENT } from 'utils/consts';\n\n\nconst Component = videojs.getComponent('Component');\n\nclass PlaylistPanel extends Component {\n\n  constructor(player, options = {}) {\n    super(player, options);\n\n    const itemChangeHandler = () => {\n      this.render();\n    };\n\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n\n    this.render();\n\n    this.dispose = () => {\n      super.dispose();\n      player.off(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n    };\n  }\n\n  createEl() {\n    const el = super.createEl();\n    el.classList.add('cld-plw-panel');\n\n    return el;\n  }\n\n  removeAll() {\n    const children = this.children();\n    for (let i = children.length - 1; i >= 0; --i) {\n      this.removeChild(children[i]);\n    }\n  }\n\n  getItems() {\n    const playlist = this.player().cloudinary.playlist();\n    const repeat = playlist._repeat;\n\n    if (this.options_.showAll) {\n      return playlist.list();\n    }\n\n    const items = [];\n    const numOfItems = this.options_.total;\n    let index = playlist.currentIndex();\n    let source = playlist.list()[index];\n    items.push(source);\n\n    while (items.length < numOfItems) {\n      index = playlist.nextIndex(index);\n      if (index === -1) {\n        if (!repeat && items.length > 0) {\n          break;\n        }\n\n        index = 0;\n      }\n\n      source = playlist.list()[index];\n      items.push(source);\n    }\n\n    return items;\n  }\n\n  render() {\n    const items = this.getItems();\n\n    this.removeAll();\n\n    items.forEach((source, index) => {\n      const playlistItem = new PlaylistPanelItem(this.player(), videojs.obj.merge(this.options_, {\n        item: source,\n        next: index === 1,\n        current: index === 0\n      }));\n\n      this.addChild(playlistItem);\n\n    });\n  }\n}\n\nvideojs.registerComponent('playlistPanel', PlaylistPanel);\n\nexport default PlaylistPanel;\n","import videojs from 'video.js';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport PlaylistLayoutHorizontal from './layout/playlist-layout-horizontal';\nimport PlaylistLayoutVertical from './layout/playlist-layout-vertical';\nimport PlaylistLayoutCustom from './layout/playlist-layout-custom';\nimport { PLAYLIST_DEFAULTS_OPTIONS } from './playlist.const';\n\nconst modifyOptions = (player, opt) => {\n  const options = { ...PLAYLIST_DEFAULTS_OPTIONS, ...opt };\n\n  if (options.show && typeof options.selector === 'string') {\n    options.useDefaultLayout = false;\n    options.useCustomLayout = true;\n    options.renderTo = document.querySelector(options.selector);\n    options.showAll = true;\n\n    if (!options.renderTo.length === 0) {\n      throw new Error(`Couldn't find element(s) by selector '${options.selector}' for playlist`);\n    }\n  }\n\n  if (options.show && !options.selector) {\n    options.useDefaultLayout = true;\n    options.useCustomLayout = false;\n  }\n\n  options.direction = options.direction.toLowerCase() === 'horizontal' ? 'horizontal' : 'vertical';\n\n  options.skin = player.options_.skin;\n\n  return options;\n};\n\nclass PlaylistWidget {\n  constructor(player, options = {}) {\n    options = modifyOptions(player, options);\n    this.options_ = options;\n    this.player_ = player;\n    this.render();\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n    };\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.options = options => {\n      if (!options) {\n        return this.options_;\n      }\n\n      this.options_ = videojs.obj.merge(this.options_, options);\n      player.trigger('playlistwidgetoption', this.options_.playlistWidget);\n      return this.options_;\n    };\n\n    this.dispose = () => {\n      this.layout_.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  render() {\n    if (this.options_.useDefaultLayout) {\n      if (this.options_.direction === 'horizontal') {\n        this.layout_ = new PlaylistLayoutHorizontal(this.player_, this.options_);\n      } else {\n        this.layout_ = new PlaylistLayoutVertical(this.player_, this.options_);\n      }\n    }\n\n    if (this.options_.useCustomLayout) {\n      this.layout_ = new PlaylistLayoutCustom(this.player_, this.options_);\n    }\n  }\n\n  getLayout() {\n    return this.layout_;\n  }\n\n  update(optionName, optionValue) {\n    this.options(optionValue);\n\n    if (optionName === 'direction') {\n      this.layout_.removeLayout();\n      this.layout_.dispose();\n      this.render();\n    } else {\n      this.layout_.update(optionName, this.options_);\n    }\n  }\n\n  setSkin() {\n    this.layout_.setCls();\n  }\n\n  total(totalNumber = PLAYLIST_DEFAULTS_OPTIONS.total) {\n    const total = parseInt(totalNumber, 10);\n\n    if (total !== this.options_.total && typeof total === 'number' && total > 0) {\n      this.update('total', { total: total });\n    }\n\n    return this;\n  }\n\n  direction(direction = PLAYLIST_DEFAULTS_OPTIONS.direction) {\n    if (direction === 'horizontal' || direction === 'vertical') {\n      this.update('direction', { direction: direction });\n    }\n\n    return this;\n  }\n}\n\nexport default PlaylistWidget;\n","export const DEFAULT_AUTO_ADVANCE = 0;\n\nexport const DEFAULT_PRESENT_UPCOMING = 10;\n\nexport const UPCOMING_VIDEO_TRANSITION = 1;\n\nexport const PLAYLIST_DEFAULTS_OPTIONS = {\n  fluid: false,\n  show: true,\n  direction: 'vertical',\n  total: 4,\n  selector: false,\n  renderTo: []\n};\n","import VideoSource from 'plugins/cloudinary/models/video-source/video-source';\nimport { isInteger } from 'utils/type-inference';\n\nimport './components/upcoming-video-overlay';\nimport './components/playlist-buttons';\n\nimport {\n  DEFAULT_AUTO_ADVANCE,\n  DEFAULT_PRESENT_UPCOMING,\n  UPCOMING_VIDEO_TRANSITION\n} from './playlist.const';\n\nimport './playlist.scss';\n\nclass Playlist {\n\n  constructor(context, sources = [], { repeat = false, autoAdvance = false, presentUpcoming = false } = {}) {\n    this._context = context;\n    this._sources = [];\n    this._defaultRecResolverCache = {};\n    this._currentIndex = null;\n    this._recommendationsHandler = null;\n    this._autoAdvance = null;\n    this._presentUpcoming = null;\n\n    this.addUiComponents();\n\n    this.resetState = () => {\n      this.repeat(repeat);\n      this.autoAdvance(autoAdvance);\n      this.presentUpcoming(presentUpcoming);\n    };\n\n    sources.forEach((source) => this.enqueue(source));\n\n    this.resetState();\n  }\n\n  list() {\n    return this._sources;\n  }\n\n  player() {\n    return this._context.player;\n  }\n\n  addUiComponents() {\n    const controlBar = this.player().getChild('ControlBar');\n    const children = controlBar.children();\n    controlBar.addChild('playlistPreviousButton', {}, children.findIndex(c => c.name_ === 'PlayToggle'));\n    controlBar.addChild('playlistNextButton', {}, children.findIndex(c => c.name_ === 'PlayToggle') + 1);\n\n    this.player().addChild('upcomingVideoOverlay');\n  }\n\n  presentUpcoming(delay) {\n    this._presentUpcoming = this._presentUpcoming || {};\n\n    if (delay === undefined) {\n      return this._presentUpcoming.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_PRESENT_UPCOMING;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('presentUpcoming \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._presentUpcoming.delay = delay;\n\n    this._setupPresentUpcoming();\n\n    return this._presentUpcoming.delay;\n  }\n\n  autoAdvance(delay) {\n    this._autoAdvance = this._autoAdvance || {};\n\n    if (delay === undefined) {\n      return this._autoAdvance.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_AUTO_ADVANCE;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('Auto advance \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._autoAdvance.delay = delay;\n\n    this._setupAutoAdvance();\n\n    return this._autoAdvance.delay;\n  }\n\n  _setupAutoAdvance() {\n    this._resetAutoAdvance();\n\n    const delay = this._autoAdvance.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    const trigger = () => {\n      if (this.player().ended()) {\n        this._autoAdvance.timeout = setTimeout(() => {\n          this.playNext();\n        }, delay * 1000);\n      }\n    };\n\n    this._autoAdvance = { delay, trigger };\n\n    this._context.on('ended', this._autoAdvance.trigger);\n  }\n\n  dispose() {\n    this._resetAutoAdvance();\n    this._resetPresentUpcoming();\n    this._resetRecommendations();\n  }\n\n  _resetPresentUpcoming() {\n    this.player().trigger('upcomingvideohide');\n\n    if (!this._presentUpcoming) {\n      this._presentUpcoming = {};\n    }\n\n    if (this._presentUpcoming.trigger) {\n      this._context.off('timeupdate', this._presentUpcoming.trigger);\n    }\n\n    this._presentUpcoming.trigger = null;\n    this._presentUpcoming.showTriggered = false;\n  }\n\n  _setupPresentUpcoming() {\n    this._resetPresentUpcoming();\n\n    const delay = this._presentUpcoming.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    this._presentUpcoming.trigger = () => {\n      const currentTime = this.player().currentTime();\n      const duration = this.player().duration();\n\n      const remainingTime = duration - currentTime;\n\n      if (remainingTime < UPCOMING_VIDEO_TRANSITION + 0.5) {\n        if (this._presentUpcoming.showTriggered) {\n          this.player().trigger('upcomingvideohide');\n          this._presentUpcoming.showTriggered = false;\n        }\n      } else if (remainingTime <= this._presentUpcoming.delay && !this._presentUpcoming.showTriggered && !this.player().loop()) {\n        this.player().trigger('upcomingvideoshow');\n        this._presentUpcoming.showTriggered = true;\n      } else if (this._presentUpcoming.showTriggered && (remainingTime > this._presentUpcoming.delay || this.player().loop())) {\n        this.player().trigger('upcomingvideohide');\n        this._presentUpcoming.showTriggered = false;\n      }\n    };\n\n    this._context.on('timeupdate', this._presentUpcoming.trigger);\n  }\n\n  _resetAutoAdvance() {\n    if (!this._autoAdvance) {\n      this._autoAdvance = {};\n    }\n\n    if (this._autoAdvance.timeout) {\n      clearTimeout(this._autoAdvance.timeout);\n    }\n\n    if (this._autoAdvance.trigger) {\n      this._context.off('ended', this._autoAdvance.trigger);\n    }\n\n    this._autoAdvance.timeout = null;\n    this._autoAdvance.trigger = null;\n  }\n\n  _resetRecommendations() {\n    if (this._recommendationsHandler) {\n      this._context.off('ended', this._recommendationsHandler);\n    }\n  }\n\n  _refreshRecommendations() {\n    this._resetRecommendations();\n\n    this._recommendationsHandler = () => {\n      if (this.autoAdvance() === false && this._context.autoShowRecommendations()) {\n        this.player().trigger('recommendationsshow');\n      }\n    };\n\n    this._context.on('ended', this._recommendationsHandler);\n  }\n\n\n  _refreshTextTracks () {\n    this.player().trigger('refreshTextTracks', this.currentSource().textTracks());\n  }\n\n  _recommendationItemBuilder(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (source.recommendations() && (!defaultResolver || source.recommendations() !== defaultResolver)) {\n      return;\n    }\n\n    return (source) => ({ source, action: () => this.playItem(source) });\n  }\n\n  currentIndex(index) {\n    if (index === undefined) {\n      return this._currentIndex;\n    }\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._currentIndex = index;\n\n    const current = this.currentSource();\n\n    const itemBuilder = this._recommendationItemBuilder(current);\n\n    if (!current.recommendations()) {\n      current.recommendations(this._defaultRecommendationsResolver(current));\n    }\n\n    this._context.source(current, { recommendationOptions: { disableAutoShow: true, itemBuilder } });\n\n    const eventData = { playlist: this, current, next: this.next() };\n\n    this.player().trigger('playlistitemchanged', eventData);\n\n    this._refreshRecommendations();\n\n    this._refreshTextTracks();\n\n    return current;\n  }\n\n  _defaultRecommendationsResolver(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (defaultResolver) {\n      return defaultResolver;\n    }\n\n    this._defaultRecResolverCache[source.objectId] = () => {\n      let index = this.list().indexOf(source);\n      const items = [];\n\n      const numOfItems = Math.min(4, this.length() - 1);\n\n      while (items.length < numOfItems) {\n        index = this.nextIndex(index);\n        if (index === -1) {\n          break;\n        }\n\n        const source = this.list()[index];\n        items.push(source);\n      }\n\n      return items;\n    };\n\n    return this._defaultRecResolverCache[source.objectId];\n  }\n\n  buildSource(source, options = {}) {\n    return this._context.buildSource(source, options);\n  }\n\n  enqueue(source, options = {}) {\n    const src = source instanceof VideoSource ? source : this.buildSource(source, options);\n\n    this._sources.push(src);\n\n    return src;\n  }\n\n\n  playItem(item) {\n    let index = this.list().indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item.');\n    }\n\n    this.playAtIndex(index);\n  }\n\n  playAtIndex(index) {\n    this.currentIndex(index);\n    this.player().play();\n\n    return this.currentSource();\n  }\n\n  currentSource() {\n    return this.list()[this.currentIndex()];\n  }\n\n  removeAt(index) {\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._sources.splice(index, 1);\n\n    return this;\n  }\n\n  repeat(repeat) {\n    if (repeat === undefined) {\n      return this._repeat;\n    }\n\n    this._repeat = !!repeat;\n\n    return this._repeat;\n  }\n\n  first() {\n    return this.list()[0];\n  }\n\n  last() {\n    return this.list()[this.length() - 1];\n  }\n\n  next() {\n    const nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.list()[nextIndex];\n  }\n\n  nextIndex(index) {\n    index = index !== undefined ? index : this.currentIndex();\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    const isLast = index === this.length() - 1;\n\n    let nextIndex = index + 1;\n\n    if (isLast) {\n      if (this.repeat()) {\n        nextIndex = 0;\n      } else {\n        return -1;\n      }\n    }\n\n    return nextIndex;\n  }\n\n  previousIndex() {\n    if (this.isFirst()) {\n      return -1;\n    }\n\n    return this.currentIndex() - 1;\n  }\n\n  playFirst() {\n    return this.playAtIndex(0);\n  }\n\n  playLast() {\n    const lastIndex = this.list().length - 1;\n    return this.playAtIndex(lastIndex);\n  }\n\n  isLast() {\n    return this.currentIndex() >= this.length() - 1;\n  }\n\n  isFirst() {\n    return this.currentIndex() === 0;\n  }\n\n  length() {\n    return this.list().length;\n  }\n\n  playNext() {\n    let nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(nextIndex);\n  }\n\n  playPrevious() {\n    let previousIndex = this.previousIndex();\n\n    if (previousIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(previousIndex);\n  }\n\n  playlistByTag = (tag, options = {}) => {\n    return this.player().sourcesByTag(tag, options).then(sources => this.player().playlist(sources, options));\n  };\n}\n\nexport default Playlist;\n","import videojs from 'video.js';\nimport './thumbnail.scss';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nconst THUMB_DEFAULT_WIDTH = 300;\n\nconst DEFAULT_OPTIONS = {\n  item: null,\n  transformation: {\n    width: THUMB_DEFAULT_WIDTH,\n    aspect_ratio: '16:9',\n    crop: 'pad',\n    background: 'black'\n  }\n};\n\nclass Thumbnail extends ClickableComponent {\n\n  constructor(player, initOptions) {\n    const options = videojs.obj.merge(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  getItem() {\n    return this.options_.item;\n  }\n\n  getTitle() {\n    return this.getItem().info().title;\n  }\n\n  getDuration() {\n    return ' ';// this.getItem().info().title;\n  }\n\n  getThumbnail() {\n    return this.getItem().poster().url({ transformation: this.options_.transformation });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n  }\n\n  createControlTextEl() {\n    return;\n  }\n\n  createEl(tag = 'a') {\n    const el = super.createEl(tag, {\n      className: 'cld-thumbnail',\n      href: '#'\n    });\n\n    const img = super.createEl('img', {\n      className: 'cld-thumbnail-img',\n      src: this.getThumbnail()\n    });\n\n    el.appendChild(img);\n\n    el.style.backgroundImage = `url('${this.getThumbnail()}')`;\n\n    return el;\n  }\n}\n\nexport default Thumbnail;\n","import { isPlainObject } from 'utils/type-inference';\nimport { camelize } from 'utils/string';\nimport { parseISO8601 } from 'utils/time';\n\nconst TIME_FIELDS = ['created_at', 'updated_at'];\n\nconst normalizeJsonResponse = (obj) => {\n  const agg = {};\n\n  if (isPlainObject(obj)) {\n    Object.keys(obj).reduce((agg, key) => {\n      const newKey = camelize(key);\n\n      if (TIME_FIELDS.indexOf(key) !== -1) {\n        agg[newKey] = new Date(parseISO8601(obj[key]));\n      } else {\n        agg[newKey] = normalizeJsonResponse(obj[key]);\n      }\n\n      return agg;\n    }, agg);\n\n    return agg;\n  } else if (Array.isArray(obj)) {\n    return obj.map((item) => normalizeJsonResponse(item));\n  } else {\n    return obj;\n  }\n};\n\n\nexport { normalizeJsonResponse };\n","// https://github.com/csnover/js-iso8601/blob/master/iso8601.js\nconst numericKeys = [1, 4, 5, 6, 7, 10, 11];\n\nconst parseISO8601 = function (date) {\n  let timestamp = 0;\n  let struct = 0;\n  let minutesOffset = 0;\n\n  // ES5 15.9.4.2 states that the string should attempt to be parsed as a Date Time String Format string\n  // before falling back to any implementation-specific date parsing, so thats what we do, even if native\n  // implementations could be faster\n  //              1 YYYY                2 MM       3 DD           4 HH    5 mm       6 ss        7 msec        8 Z 9     10 tzHH    11 tzmm\n  if ((struct = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/.exec(date))) {\n    // avoid NaN timestamps caused by undefined values being passed to Date.UTC\n    for (let i = 0, k; (k = numericKeys[i]); ++i) {\n      struct[k] = +struct[k] || 0;\n    }\n\n    // allow undefined days and months\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1;\n\n    if (struct[8] !== 'Z' && struct[9] !== undefined) {\n      minutesOffset = struct[10] * 60 + struct[11];\n\n      if (struct[9] === '+') {\n        minutesOffset = 0 - minutesOffset;\n      }\n    }\n\n    timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n  } else {\n    timestamp = NaN;\n  }\n\n  return timestamp;\n};\n\n// Convert time string i.e. '2:40' to seconds number (160)\n// Also allows h:m:s format and mm:ss, m:s etc.\nconst parseTime = function (hms) {\n  const [seconds, minutes, hours] = hms.split(':').reverse();\n  let sum = null;\n  if (!isNaN(seconds)) {\n    sum = (+hours || 0) * 60 * 60 + (+minutes || 0) * 60 + (+seconds);\n  }\n  return sum;\n};\n\nexport { parseISO8601, parseTime };\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};"],"names":["sliceProperties","normalizeJsonResponse","PLAYER_EVENT","isPlainObject","getCloudinaryUrl","Playlist","PlaylistWidget","LIST_BY_TAG_PARAMS","format","resource_type","type","playlist","player","options","arguments","length","undefined","chainTarget","playlistInstance","playlistDisposer","playlistWidget","initPlaylistWidget","on","PLAYLIST_CREATED","dispose","fluid_","fluid","cloudinary","fontFace","disposePlaylist","removeClass","off","addPlaylistDisposer","disposer","currentSource","contains","createPlaylist","sources","resetState","currentIndex","addClass","sourcesByTag","tag","url","Object","assign","cloudinaryConfig","result","fetch","json","resources","sorter","sort","map","resource","sourceParams","info","context","custom","source","publicId","buildSource","trigger","videojs","ClickableComponent","getComponent","PlaylistButton","constructor","Error","createEl","options_","typeCssClass","dom","className","ariaLabel","PlaylistNextButton","PlaylistPreviousButton","handleClick","event","stopPropagation","playNext","registerComponent","playPrevious","Component","UpcomingVideoOverlay","DISABLE_TRANSITION_CLASS","VJS_UPCOMING_VIDEO_SHOW","_len","args","Array","_key","_setEvents","UP_COMING_VIDEO_SHOW","_show","UP_COMING_VIDEO_HIDE","_hide","PLAYLIST_ITEM_CHANGED","_onPlaylistItemChange","_disableTransition","block","_","next","setItem","ima","adsManager","getAdsManager","getCurrentAd","isLinear","setTitle","title","getChild","setContent","_source","maxWidth","parseInt","window","getComputedStyle","el","getPropertyValue","maxHeight","Math","round","transformation","crop","background","width","height","content","style","backgroundImage","poster","UpcomingVideoOverlayContent","UpcomingVideoOverlayTitle","_contentSpan","innerText","container","innerHTML","appendChild","UpcomingVideoOverlayBar","prototype","children","PlaylistLayout","PlaylistLayoutCustom","getCls","cls","push","renderTo","PlaylistLayoutHorizontal","wrap","PlaylistLayoutVertical","skinClassPrefix","playerClassPrefix","OPTIONS_DEFAULT","layoutOptions","player_","fluidHandler","e","removeCls","setCls","wrapVideoWithLayout","videoWrap_","contentEl_","FLUID","addChild","PLAYLIST_PANEL","removeLayout","forEach","update","optionToChange","removeChild","parentElem","parentElement","fontFamily","Thumbnail","DEFAULT_OPTIONS","PlaylistPanelItem","initOptions","obj","merge","play","item","getItem","list","index","indexOf","playAtIndex","isCurrent","current","getTitle","getDuration","classList","add","titleWrap","currEl","duration","PlaylistPanel","itemChangeHandler","render","removeAll","i","getItems","repeat","_repeat","showAll","items","numOfItems","total","nextIndex","playlistItem","PLAYLIST_DEFAULTS_OPTIONS","modifyOptions","opt","show","selector","useDefaultLayout","useCustomLayout","document","querySelector","direction","toLowerCase","skin","layout_","getLayout","optionName","optionValue","setSkin","totalNumber","DEFAULT_AUTO_ADVANCE","DEFAULT_PRESENT_UPCOMING","UPCOMING_VIDEO_TRANSITION","VideoSource","isInteger","autoAdvance","presentUpcoming","_context","_sources","_defaultRecResolverCache","_currentIndex","_recommendationsHandler","_autoAdvance","_presentUpcoming","addUiComponents","enqueue","controlBar","findIndex","c","name_","delay","_setupPresentUpcoming","_setupAutoAdvance","_resetAutoAdvance","ended","timeout","setTimeout","_resetPresentUpcoming","_resetRecommendations","showTriggered","currentTime","remainingTime","loop","clearTimeout","_refreshRecommendations","autoShowRecommendations","_refreshTextTracks","textTracks","_recommendationItemBuilder","defaultResolver","objectId","recommendations","action","playItem","itemBuilder","_defaultRecommendationsResolver","recommendationOptions","disableAutoShow","eventData","min","src","removeAt","splice","first","last","isLast","previousIndex","isFirst","playFirst","playLast","lastIndex","playlistByTag","_this","then","THUMB_DEFAULT_WIDTH","aspect_ratio","getThumbnail","preventDefault","createControlTextEl","href","img","camelize","parseISO8601","TIME_FIELDS","agg","keys","reduce","key","newKey","Date","isArray","numericKeys","date","timestamp","struct","minutesOffset","exec","k","UTC","NaN","parseTime","hms","seconds","minutes","hours","split","reverse","sum","isNaN"],"sourceRoot":""}