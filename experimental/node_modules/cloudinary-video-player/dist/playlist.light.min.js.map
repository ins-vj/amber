{"version":3,"file":"playlist.light.min.js","mappings":"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","sources":["webpack://cloudinary-video-player/./utils/api.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/upcoming-video-overlay.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-button.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-next-button.js","webpack://cloudinary-video-player/./plugins/playlist/ui/components/playlist-previous-button.js","webpack://cloudinary-video-player/./plugins/playlist/ui/playlist.const.js","webpack://cloudinary-video-player/./plugins/playlist/ui/playlist.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout-horizontal.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout-vertical.js","webpack://cloudinary-video-player/./plugins/playlist/ui/layout/playlist-layout-custom.js","webpack://cloudinary-video-player/./plugins/playlist/ui/playlist-widget.js","webpack://cloudinary-video-player/./plugins/playlist/ui/thumbnail/thumbnail.js","webpack://cloudinary-video-player/./plugins/playlist/ui/panel/playlist-panel-item.js","webpack://cloudinary-video-player/./plugins/playlist/ui/panel/playlist-panel.js","webpack://cloudinary-video-player/./plugins/playlist/playlist.js","webpack://cloudinary-video-player/./utils/time.js"],"sourcesContent":["import { isPlainObject } from 'utils/type-inference';\nimport { camelize } from 'utils/string';\nimport { parseISO8601 } from 'utils/time';\n\nconst TIME_FIELDS = ['created_at', 'updated_at'];\n\nconst normalizeJsonResponse = (obj) => {\n  const agg = {};\n\n  if (isPlainObject(obj)) {\n    Object.keys(obj).reduce((agg, key) => {\n      const newKey = camelize(key);\n\n      if (TIME_FIELDS.indexOf(key) !== -1) {\n        agg[newKey] = new Date(parseISO8601(obj[key]));\n      } else {\n        agg[newKey] = normalizeJsonResponse(obj[key]);\n      }\n\n      return agg;\n    }, agg);\n\n    return agg;\n  } else if (Array.isArray(obj)) {\n    return obj.map((item) => normalizeJsonResponse(item));\n  } else {\n    return obj;\n  }\n};\n\n\nexport { normalizeJsonResponse };\n","import videojs from 'video.js';\nimport './upcoming-video-overlay.scss';\nimport { PLAYER_EVENT } from 'utils/consts';\n\n// support VJS5 & VJS6 at the same time\nconst dom = videojs.dom || videojs;\n\nconst Component = videojs.getComponent('Component');\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nclass UpcomingVideoOverlay extends ClickableComponent {\n\n  static DISABLE_TRANSITION_CLASS = 'disable-transition';\n  static VJS_UPCOMING_VIDEO_SHOW = 'vjs-upcoming-video-show';\n\n  constructor(player, ...args) {\n    super(player, ...args);\n\n    this._setEvents(player);\n  }\n\n  _setEvents(player) {\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_SHOW, this._show);\n    player.on(PLAYER_EVENT.UP_COMING_VIDEO_HIDE, this._hide);\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, this._onPlaylistItemChange);\n  }\n\n  _hide = () => {\n    this.removeClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n  }\n\n  _disableTransition(block) {\n    this.addClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n    block();\n    this.removeClass(UpcomingVideoOverlay.DISABLE_TRANSITION_CLASS);\n  }\n\n  _onPlaylistItemChange = (_, event) => {\n    this._hide();\n    this._disableTransition(() => {\n      if (event.next) {\n        this.setItem(event.next);\n      }\n    });\n  }\n\n  _show = () => {\n    const ima = this.player().ima;\n    const adsManager = ima === 'object' && ima.getAdsManager();\n\n    if (adsManager) {\n      if (!adsManager.getCurrentAd() || adsManager.getCurrentAd().isLinear()) {\n        this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n      }\n    } else {\n      this.addClass(UpcomingVideoOverlay.VJS_UPCOMING_VIDEO_SHOW);\n    }\n  }\n\n  setTitle(source) {\n    const title = this.getChild('upcomingVideoOverlayContent')\n      .getChild('upcomingVideoOverlayBar')\n      .getChild('upcomingVideoOverlayTitle');\n\n    title.setContent(source.info().title || source.publicId());\n  }\n\n  setItem(source) {\n    this._source = source;\n\n    const maxWidth = parseInt(window.getComputedStyle(this.el(), null).getPropertyValue('max-width'), 10);\n    const maxHeight = Math.round(maxWidth * (9 / 16.0));\n\n    const transformation = { crop: 'pad', background: 'auto:predominant', width: maxWidth, height: maxHeight };\n    const content = this.getChild('upcomingVideoOverlayContent');\n\n    this.setTitle(source);\n\n    content.el().style.backgroundImage = `url(\"${this._source.poster().url({ transformation })}\")`;\n  }\n\n  handleClick() {\n    super.handleClick(event);\n\n    this.player().cloudinary.playlist().playNext();\n  }\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayContent extends Component {\n  createEl() {\n    // Content wraps image and bar\n    return super.createEl('div', {\n      className: 'upcoming-video-overlay aspect-ratio-content'\n    });\n  }\n}\n\nclass UpcomingVideoOverlayTitle extends Component {\n\n  setContent(title) {\n    this._contentSpan.innerText = title;\n  }\n\n  createEl() {\n    const el = super.createEl('div', {\n      className: 'vjs-control vjs-upcoming-video-title'\n    });\n\n    const container = dom.createEl('div', {\n      className: 'vjs-upcoming-video-title-display',\n      innerHTML: '<span class=\"vjs-control-text\">Next up</span>Next up: '\n    });\n\n    this._contentSpan = dom.createEl('span', {\n      className: 'vjs-upcoming-video-title-display-label'\n    });\n\n    container.appendChild(this._contentSpan);\n\n    el.appendChild(container);\n\n    return el;\n  }\n}\n\nclass UpcomingVideoOverlayBar extends Component {\n\n  createEl() {\n    return super.createEl('div', {\n      className: 'vjs-upcoming-video-bar'\n    });\n  }\n}\n\nUpcomingVideoOverlay.prototype.options_ = { children: ['upcomingVideoOverlayContent'] };\nvideojs.registerComponent('upcomingVideoOverlay', UpcomingVideoOverlay);\n\nUpcomingVideoOverlayContent.prototype.options_ = { children: ['upcomingVideoOverlayBar'] };\nvideojs.registerComponent('upcomingVideoOverlayContent', UpcomingVideoOverlayContent);\n\nUpcomingVideoOverlayBar.prototype.options_ = { children: ['upcomingVideoOverlayTitle', 'playlistNextButton'] };\nvideojs.registerComponent('upcomingVideoOverlayBar', UpcomingVideoOverlayBar);\n\nvideojs.registerComponent('upcomingVideoOverlayTitle', UpcomingVideoOverlayTitle);\n\nexport default UpcomingVideoOverlay;\n","import videojs from 'video.js';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\n// Create a common class for playlist buttons\nclass PlaylistButton extends ClickableComponent {\n\n  constructor(player, options) {\n    // It is important to invoke the superclass before anything else,\n    // to get all the features of components out of the box!\n    super(player, options);\n\n    const type = options.type;\n\n    if (!type && type !== 'previous' && type !== 'next') {\n      throw new Error('Type must be either \\'previous\\' or \\'next\\'');\n    }\n  }\n\n  // The `createEl` function of a component creates its DOM element.\n  createEl() {\n    const type = this.options_.type;\n    const typeCssClass = `vjs-icon-${type}-item`;\n\n    return videojs.dom.createEl('button', {\n      // Prefixing classes of elements within a player with \"vjs-\"\n      // is a convention used in Video.js.\n      className: `vjs-control vjs-playlist-button vjs-button ${typeCssClass}`,\n      ariaLabel: `Playlist ${type} item`\n    });\n  }\n}\n\nexport default PlaylistButton;\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistNextButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'next' });\n  }\n\n  handleClick(event) {\n    event.stopPropagation();\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playNext();\n  }\n}\n\nvideojs.registerComponent('PlaylistNextButton', PlaylistNextButton);\n\nexport default PlaylistNextButton;\n","import PlaylistButton from './playlist-button';\nimport videojs from 'video.js';\n\nclass PlaylistPreviousButton extends PlaylistButton {\n\n  constructor(player) {\n    super(player, { type: 'previous' });\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.player().cloudinary.playlist().playPrevious();\n  }\n}\n\nvideojs.registerComponent('PlaylistPreviousButton', PlaylistPreviousButton);\n\nexport default PlaylistPreviousButton;\n","export const DEFAULT_AUTO_ADVANCE = 0;\n\nexport const DEFAULT_PRESENT_UPCOMING = 10;\n\nexport const UPCOMING_VIDEO_TRANSITION = 1;\n\nexport const PLAYLIST_DEFAULTS_OPTIONS = {\n  fluid: false,\n  show: true,\n  direction: 'vertical',\n  total: 4,\n  selector: false,\n  renderTo: []\n};\n","import VideoSource from 'plugins/cloudinary/models/video-source/video-source';\nimport { isInteger } from 'utils/type-inference';\n\nimport './components/upcoming-video-overlay';\nimport './components/playlist-buttons';\n\nimport {\n  DEFAULT_AUTO_ADVANCE,\n  DEFAULT_PRESENT_UPCOMING,\n  UPCOMING_VIDEO_TRANSITION\n} from './playlist.const';\n\nimport './playlist.scss';\n\nclass Playlist {\n\n  constructor(context, sources = [], { repeat = false, autoAdvance = false, presentUpcoming = false } = {}) {\n    this._context = context;\n    this._sources = [];\n    this._defaultRecResolverCache = {};\n    this._currentIndex = null;\n    this._recommendationsHandler = null;\n    this._autoAdvance = null;\n    this._presentUpcoming = null;\n\n    this.addUiComponents();\n\n    this.resetState = () => {\n      this.repeat(repeat);\n      this.autoAdvance(autoAdvance);\n      this.presentUpcoming(presentUpcoming);\n    };\n\n    sources.forEach((source) => this.enqueue(source));\n\n    this.resetState();\n  }\n\n  list() {\n    return this._sources;\n  }\n\n  player() {\n    return this._context.player;\n  }\n\n  addUiComponents() {\n    const controlBar = this.player().getChild('ControlBar');\n    const children = controlBar.children();\n    controlBar.addChild('playlistPreviousButton', {}, children.findIndex(c => c.name_ === 'PlayToggle'));\n    controlBar.addChild('playlistNextButton', {}, children.findIndex(c => c.name_ === 'PlayToggle') + 1);\n\n    this.player().addChild('upcomingVideoOverlay');\n  }\n\n  presentUpcoming(delay) {\n    this._presentUpcoming = this._presentUpcoming || {};\n\n    if (delay === undefined) {\n      return this._presentUpcoming.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_PRESENT_UPCOMING;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('presentUpcoming \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._presentUpcoming.delay = delay;\n\n    this._setupPresentUpcoming();\n\n    return this._presentUpcoming.delay;\n  }\n\n  autoAdvance(delay) {\n    this._autoAdvance = this._autoAdvance || {};\n\n    if (delay === undefined) {\n      return this._autoAdvance.delay;\n    }\n\n    if (delay === true) {\n      delay = DEFAULT_AUTO_ADVANCE;\n    } else if (delay === false) {\n      delay = false;\n    } else if (!isInteger(delay) || delay < 0) {\n      throw new Error('Auto advance \\'delay\\' must be either a boolean or a positive integer.');\n    }\n\n    this._autoAdvance.delay = delay;\n\n    this._setupAutoAdvance();\n\n    return this._autoAdvance.delay;\n  }\n\n  _setupAutoAdvance() {\n    this._resetAutoAdvance();\n\n    const delay = this._autoAdvance.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    const trigger = () => {\n      if (this.player().ended()) {\n        this._autoAdvance.timeout = setTimeout(() => {\n          this.playNext();\n        }, delay * 1000);\n      }\n    };\n\n    this._autoAdvance = { delay, trigger };\n\n    this._context.on('ended', this._autoAdvance.trigger);\n  }\n\n  dispose() {\n    this._resetAutoAdvance();\n    this._resetPresentUpcoming();\n    this._resetRecommendations();\n  }\n\n  _resetPresentUpcoming() {\n    this.player().trigger('upcomingvideohide');\n\n    if (!this._presentUpcoming) {\n      this._presentUpcoming = {};\n    }\n\n    if (this._presentUpcoming.trigger) {\n      this._context.off('timeupdate', this._presentUpcoming.trigger);\n    }\n\n    this._presentUpcoming.trigger = null;\n    this._presentUpcoming.showTriggered = false;\n  }\n\n  _setupPresentUpcoming() {\n    this._resetPresentUpcoming();\n\n    const delay = this._presentUpcoming.delay;\n\n    if (delay === false) {\n      return;\n    }\n\n    this._presentUpcoming.trigger = () => {\n      const currentTime = this.player().currentTime();\n      const duration = this.player().duration();\n\n      const remainingTime = duration - currentTime;\n\n      if (remainingTime < UPCOMING_VIDEO_TRANSITION + 0.5) {\n        if (this._presentUpcoming.showTriggered) {\n          this.player().trigger('upcomingvideohide');\n          this._presentUpcoming.showTriggered = false;\n        }\n      } else if (remainingTime <= this._presentUpcoming.delay && !this._presentUpcoming.showTriggered && !this.player().loop()) {\n        this.player().trigger('upcomingvideoshow');\n        this._presentUpcoming.showTriggered = true;\n      } else if (this._presentUpcoming.showTriggered && (remainingTime > this._presentUpcoming.delay || this.player().loop())) {\n        this.player().trigger('upcomingvideohide');\n        this._presentUpcoming.showTriggered = false;\n      }\n    };\n\n    this._context.on('timeupdate', this._presentUpcoming.trigger);\n  }\n\n  _resetAutoAdvance() {\n    if (!this._autoAdvance) {\n      this._autoAdvance = {};\n    }\n\n    if (this._autoAdvance.timeout) {\n      clearTimeout(this._autoAdvance.timeout);\n    }\n\n    if (this._autoAdvance.trigger) {\n      this._context.off('ended', this._autoAdvance.trigger);\n    }\n\n    this._autoAdvance.timeout = null;\n    this._autoAdvance.trigger = null;\n  }\n\n  _resetRecommendations() {\n    if (this._recommendationsHandler) {\n      this._context.off('ended', this._recommendationsHandler);\n    }\n  }\n\n  _refreshRecommendations() {\n    this._resetRecommendations();\n\n    this._recommendationsHandler = () => {\n      if (this.autoAdvance() === false && this._context.autoShowRecommendations()) {\n        this.player().trigger('recommendationsshow');\n      }\n    };\n\n    this._context.on('ended', this._recommendationsHandler);\n  }\n\n\n  _refreshTextTracks () {\n    this.player().trigger('refreshTextTracks', this.currentSource().textTracks());\n  }\n\n  _recommendationItemBuilder(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (source.recommendations() && (!defaultResolver || source.recommendations() !== defaultResolver)) {\n      return;\n    }\n\n    return (source) => ({ source, action: () => this.playItem(source) });\n  }\n\n  currentIndex(index) {\n    if (index === undefined) {\n      return this._currentIndex;\n    }\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._currentIndex = index;\n\n    const current = this.currentSource();\n\n    const itemBuilder = this._recommendationItemBuilder(current);\n\n    if (!current.recommendations()) {\n      current.recommendations(this._defaultRecommendationsResolver(current));\n    }\n\n    this._context.source(current, { recommendationOptions: { disableAutoShow: true, itemBuilder } });\n\n    const eventData = { playlist: this, current, next: this.next() };\n\n    this.player().trigger('playlistitemchanged', eventData);\n\n    this._refreshRecommendations();\n\n    this._refreshTextTracks();\n\n    return current;\n  }\n\n  _defaultRecommendationsResolver(source) {\n    const defaultResolver = this._defaultRecResolverCache[source.objectId];\n    if (defaultResolver) {\n      return defaultResolver;\n    }\n\n    this._defaultRecResolverCache[source.objectId] = () => {\n      let index = this.list().indexOf(source);\n      const items = [];\n\n      const numOfItems = Math.min(4, this.length() - 1);\n\n      while (items.length < numOfItems) {\n        index = this.nextIndex(index);\n        if (index === -1) {\n          break;\n        }\n\n        const source = this.list()[index];\n        items.push(source);\n      }\n\n      return items;\n    };\n\n    return this._defaultRecResolverCache[source.objectId];\n  }\n\n  buildSource(source, options = {}) {\n    return this._context.buildSource(source, options);\n  }\n\n  enqueue(source, options = {}) {\n    const src = source instanceof VideoSource ? source : this.buildSource(source, options);\n\n    this._sources.push(src);\n\n    return src;\n  }\n\n\n  playItem(item) {\n    let index = this.list().indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item.');\n    }\n\n    this.playAtIndex(index);\n  }\n\n  playAtIndex(index) {\n    this.currentIndex(index);\n    this.player().play();\n\n    return this.currentSource();\n  }\n\n  currentSource() {\n    return this.list()[this.currentIndex()];\n  }\n\n  removeAt(index) {\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    this._sources.splice(index, 1);\n\n    return this;\n  }\n\n  repeat(repeat) {\n    if (repeat === undefined) {\n      return this._repeat;\n    }\n\n    this._repeat = !!repeat;\n\n    return this._repeat;\n  }\n\n  first() {\n    return this.list()[0];\n  }\n\n  last() {\n    return this.list()[this.length() - 1];\n  }\n\n  next() {\n    const nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.list()[nextIndex];\n  }\n\n  nextIndex(index) {\n    index = index !== undefined ? index : this.currentIndex();\n\n    if (index >= this.length() || index < 0) {\n      throw new Error('Invalid playlist index.');\n    }\n\n    const isLast = index === this.length() - 1;\n\n    let nextIndex = index + 1;\n\n    if (isLast) {\n      if (this.repeat()) {\n        nextIndex = 0;\n      } else {\n        return -1;\n      }\n    }\n\n    return nextIndex;\n  }\n\n  previousIndex() {\n    if (this.isFirst()) {\n      return -1;\n    }\n\n    return this.currentIndex() - 1;\n  }\n\n  playFirst() {\n    return this.playAtIndex(0);\n  }\n\n  playLast() {\n    const lastIndex = this.list().length - 1;\n    return this.playAtIndex(lastIndex);\n  }\n\n  isLast() {\n    return this.currentIndex() >= this.length() - 1;\n  }\n\n  isFirst() {\n    return this.currentIndex() === 0;\n  }\n\n  length() {\n    return this.list().length;\n  }\n\n  playNext() {\n    let nextIndex = this.nextIndex();\n\n    if (nextIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(nextIndex);\n  }\n\n  playPrevious() {\n    let previousIndex = this.previousIndex();\n\n    if (previousIndex === -1) {\n      return null;\n    }\n\n    return this.playAtIndex(previousIndex);\n  }\n\n  playlistByTag = (tag, options = {}) => {\n    return this.player().sourcesByTag(tag, options).then(sources => this.player().playlist(sources, options));\n  };\n}\n\nexport default Playlist;\n","import videojs from 'video.js';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport { wrap } from 'utils/dom';\nimport {\n  skinClassPrefix,\n  playerClassPrefix\n} from 'utils/css-prefix';\n\nconst dom = videojs.dom || videojs;\nconst Component = videojs.getComponent('Component');\n\nconst OPTIONS_DEFAULT = {\n  wrap: false\n};\n\nclass PlaylistLayout extends Component {\n  constructor(player, options) {\n    const layoutOptions = { ...OPTIONS_DEFAULT, ...options };\n    super(player, layoutOptions);\n    this.player_ = player;\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n      this.removeCls();\n      this.setCls();\n    };\n\n    const wrapVideoWithLayout = () => {\n      const el = this.el();\n\n      this.videoWrap_ = dom.createEl('div', { className: 'cld-plw-col-player' });\n      this.contentEl_ = this.contentEl_ = dom.createEl('div', { className: 'cld-plw-col-list' });\n\n      wrap(this.player().el(), el);\n\n      el.appendChild(this.videoWrap_);\n      el.appendChild(this.contentEl_);\n\n      wrap(this.player().el(), this.videoWrap_);\n    };\n\n    if (layoutOptions.wrap) {\n      wrapVideoWithLayout();\n    }\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.addChild(PLAYER_EVENT.PLAYLIST_PANEL, this.options_);\n\n    this.setCls();\n\n    this.dispose = () => {\n      this.removeLayout();\n      super.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  getCls() {\n    let cls = ['cld-video-player', 'cld-plw-layout'];\n\n    cls.push(skinClassPrefix(this.player()));\n    cls.push(playerClassPrefix(this.player()));\n\n    if (this.options_.fluid) {\n      cls.push('cld-plw-layout-fluid');\n    }\n\n    return cls;\n  }\n\n  setCls() {\n    this.removeClass(skinClassPrefix(this.player()));\n    this.getCls().forEach((cls) => {\n      this.addClass(cls);\n    });\n  }\n\n  removeCls() {\n    this.getCls().forEach((cls) => {\n      this.removeClass(cls);\n    });\n  }\n\n  update(optionToChange, options) {\n    this.options(options);\n    this.removeChild('PlaylistPanel');\n    this.addChild('PlaylistPanel', this.options_);\n    this.trigger('playlistlayoutupdate');\n  }\n\n  removeLayout() {\n    const parentElem = this.el().parentElement;\n    if (parentElem) {\n      parentElem.appendChild(this.player().el());\n    }\n  }\n\n  createEl() {\n    const el = super.createEl('div');\n\n    // Apply font styles on wrapper div.\n    el.style.fontFamily = this.player().el().style.fontFamily;\n\n    return el;\n  }\n\n}\n\nvideojs.registerComponent('playlistLayout', PlaylistLayout);\n\nexport default PlaylistLayout;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutHorizontal extends PlaylistLayout {\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-horizontal');\n    return cls;\n  }\n}\n\nexport default PlaylistLayoutHorizontal;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutVertical extends PlaylistLayout {\n\n  constructor (player, options) {\n    options.wrap = true;\n    super(player, options);\n  }\n\n  getCls() {\n    const cls = super.getCls();\n    cls.push('cld-plw-vertical');\n\n    return cls;\n  }\n}\n\n\nexport default PlaylistLayoutVertical;\n","import PlaylistLayout from './playlist-layout';\n\nclass PlaylistLayoutCustom extends PlaylistLayout {\n\n  getCls() {\n    let cls = super.getCls();\n    cls.push('cld-plw-custom');\n\n    return cls;\n  }\n\n  createEl() {\n    const el = super.createEl();\n    this.options_.renderTo.appendChild(el);\n\n    return el;\n  }\n}\n\n\nexport default PlaylistLayoutCustom;\n","import videojs from 'video.js';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport PlaylistLayoutHorizontal from './layout/playlist-layout-horizontal';\nimport PlaylistLayoutVertical from './layout/playlist-layout-vertical';\nimport PlaylistLayoutCustom from './layout/playlist-layout-custom';\nimport { PLAYLIST_DEFAULTS_OPTIONS } from './playlist.const';\n\nconst modifyOptions = (player, opt) => {\n  const options = { ...PLAYLIST_DEFAULTS_OPTIONS, ...opt };\n\n  if (options.show && typeof options.selector === 'string') {\n    options.useDefaultLayout = false;\n    options.useCustomLayout = true;\n    options.renderTo = document.querySelector(options.selector);\n    options.showAll = true;\n\n    if (!options.renderTo.length === 0) {\n      throw new Error(`Couldn't find element(s) by selector '${options.selector}' for playlist`);\n    }\n  }\n\n  if (options.show && !options.selector) {\n    options.useDefaultLayout = true;\n    options.useCustomLayout = false;\n  }\n\n  options.direction = options.direction.toLowerCase() === 'horizontal' ? 'horizontal' : 'vertical';\n\n  options.skin = player.options_.skin;\n\n  return options;\n};\n\nclass PlaylistWidget {\n  constructor(player, options = {}) {\n    options = modifyOptions(player, options);\n    this.options_ = options;\n    this.player_ = player;\n    this.render();\n\n    const fluidHandler = (e, fluid) => {\n      this.options_.fluid = fluid;\n    };\n\n    player.on(PLAYER_EVENT.FLUID, fluidHandler);\n\n    this.options = options => {\n      if (!options) {\n        return this.options_;\n      }\n\n      this.options_ = videojs.obj.merge(this.options_, options);\n      player.trigger('playlistwidgetoption', this.options_.playlistWidget);\n      return this.options_;\n    };\n\n    this.dispose = () => {\n      this.layout_.dispose();\n      player.off(PLAYER_EVENT.FLUID, fluidHandler);\n    };\n  }\n\n  render() {\n    if (this.options_.useDefaultLayout) {\n      if (this.options_.direction === 'horizontal') {\n        this.layout_ = new PlaylistLayoutHorizontal(this.player_, this.options_);\n      } else {\n        this.layout_ = new PlaylistLayoutVertical(this.player_, this.options_);\n      }\n    }\n\n    if (this.options_.useCustomLayout) {\n      this.layout_ = new PlaylistLayoutCustom(this.player_, this.options_);\n    }\n  }\n\n  getLayout() {\n    return this.layout_;\n  }\n\n  update(optionName, optionValue) {\n    this.options(optionValue);\n\n    if (optionName === 'direction') {\n      this.layout_.removeLayout();\n      this.layout_.dispose();\n      this.render();\n    } else {\n      this.layout_.update(optionName, this.options_);\n    }\n  }\n\n  setSkin() {\n    this.layout_.setCls();\n  }\n\n  total(totalNumber = PLAYLIST_DEFAULTS_OPTIONS.total) {\n    const total = parseInt(totalNumber, 10);\n\n    if (total !== this.options_.total && typeof total === 'number' && total > 0) {\n      this.update('total', { total: total });\n    }\n\n    return this;\n  }\n\n  direction(direction = PLAYLIST_DEFAULTS_OPTIONS.direction) {\n    if (direction === 'horizontal' || direction === 'vertical') {\n      this.update('direction', { direction: direction });\n    }\n\n    return this;\n  }\n}\n\nexport default PlaylistWidget;\n","import videojs from 'video.js';\nimport './thumbnail.scss';\n\n// Get the ClickableComponent base class from Video.js\nconst ClickableComponent = videojs.getComponent('ClickableComponent');\n\nconst THUMB_DEFAULT_WIDTH = 300;\n\nconst DEFAULT_OPTIONS = {\n  item: null,\n  transformation: {\n    width: THUMB_DEFAULT_WIDTH,\n    aspect_ratio: '16:9',\n    crop: 'pad',\n    background: 'black'\n  }\n};\n\nclass Thumbnail extends ClickableComponent {\n\n  constructor(player, initOptions) {\n    const options = videojs.obj.merge(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  getItem() {\n    return this.options_.item;\n  }\n\n  getTitle() {\n    return this.getItem().info().title;\n  }\n\n  getDuration() {\n    return ' ';// this.getItem().info().title;\n  }\n\n  getThumbnail() {\n    return this.getItem().poster().url({ transformation: this.options_.transformation });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n  }\n\n  createControlTextEl() {\n    return;\n  }\n\n  createEl(tag = 'a') {\n    const el = super.createEl(tag, {\n      className: 'cld-thumbnail',\n      href: '#'\n    });\n\n    const img = super.createEl('img', {\n      className: 'cld-thumbnail-img',\n      src: this.getThumbnail()\n    });\n\n    el.appendChild(img);\n\n    el.style.backgroundImage = `url('${this.getThumbnail()}')`;\n\n    return el;\n  }\n}\n\nexport default Thumbnail;\n","import videojs from 'video.js';\nimport Thumbnail from '../thumbnail/thumbnail';\n\nconst dom = videojs.dom || videojs;\n\nconst DEFAULT_OPTIONS = {\n  source: null,\n  next: false\n};\n\nclass PlaylistPanelItem extends Thumbnail {\n\n  constructor(player, initOptions) {\n    const options = videojs.obj.merge(DEFAULT_OPTIONS, initOptions);\n    super(player, options);\n  }\n\n  handleClick(event) {\n    super.handleClick(event);\n    this.play();\n  }\n\n  play() {\n    const item = this.getItem();\n    const list = this.player().cloudinary.playlist().list();\n    const index = list.indexOf(item);\n\n    if (index === -1) {\n      throw new Error('Invalid playlist item...');\n    }\n\n    this.player().cloudinary.playlist().playAtIndex(index);\n  }\n\n  isCurrent() {\n    return this.options_.current;\n  }\n\n  getTitle() {\n    return super.getTitle();\n  }\n\n  getDuration() {\n    return super.getDuration();\n  }\n\n  createEl() {\n    const el = super.createEl();\n\n    el.classList.add('cld-plw-panel-item');\n\n    const info = dom.createEl('div', { className: 'cld-plw-item-info-wrap' });\n    const titleWrap = dom.createEl('div', { className: 'cld-plw-item-title' });\n\n    if (this.isCurrent()) {\n      el.classList.add('cld-plw-panel-item-active');\n\n      const currEl = dom.createEl('span', {\n        className: 'cld-plw-item-title-curr'\n      }, {}, 'Now Playing: ');\n\n      titleWrap.appendChild(currEl);\n    }\n\n    const title = dom.createEl('span', { className: 'cld-plw-item-title' }, {}, this.getTitle());\n\n    titleWrap.appendChild(title);\n\n    const duration = dom.createEl('div', { className: 'cld-plw-item-duration' }, {}, this.getDuration());\n\n    info.appendChild(titleWrap);\n    info.appendChild(duration);\n\n    if (el) {\n      el.appendChild(info);\n    }\n\n    el.appendChild(info);\n\n    return el;\n  }\n}\n\nvideojs.registerComponent('playlistPanelItem', PlaylistPanelItem);\n\nexport default PlaylistPanelItem;\n","import videojs from 'video.js';\nimport PlaylistPanelItem from './playlist-panel-item';\nimport { PLAYER_EVENT } from 'utils/consts';\n\n\nconst Component = videojs.getComponent('Component');\n\nclass PlaylistPanel extends Component {\n\n  constructor(player, options = {}) {\n    super(player, options);\n\n    const itemChangeHandler = () => {\n      this.render();\n    };\n\n    player.on(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n\n    this.render();\n\n    this.dispose = () => {\n      super.dispose();\n      player.off(PLAYER_EVENT.PLAYLIST_ITEM_CHANGED, itemChangeHandler);\n    };\n  }\n\n  createEl() {\n    const el = super.createEl();\n    el.classList.add('cld-plw-panel');\n\n    return el;\n  }\n\n  removeAll() {\n    const children = this.children();\n    for (let i = children.length - 1; i >= 0; --i) {\n      this.removeChild(children[i]);\n    }\n  }\n\n  getItems() {\n    const playlist = this.player().cloudinary.playlist();\n    const repeat = playlist._repeat;\n\n    if (this.options_.showAll) {\n      return playlist.list();\n    }\n\n    const items = [];\n    const numOfItems = this.options_.total;\n    let index = playlist.currentIndex();\n    let source = playlist.list()[index];\n    items.push(source);\n\n    while (items.length < numOfItems) {\n      index = playlist.nextIndex(index);\n      if (index === -1) {\n        if (!repeat && items.length > 0) {\n          break;\n        }\n\n        index = 0;\n      }\n\n      source = playlist.list()[index];\n      items.push(source);\n    }\n\n    return items;\n  }\n\n  render() {\n    const items = this.getItems();\n\n    this.removeAll();\n\n    items.forEach((source, index) => {\n      const playlistItem = new PlaylistPanelItem(this.player(), videojs.obj.merge(this.options_, {\n        item: source,\n        next: index === 1,\n        current: index === 0\n      }));\n\n      this.addChild(playlistItem);\n\n    });\n  }\n}\n\nvideojs.registerComponent('playlistPanel', PlaylistPanel);\n\nexport default PlaylistPanel;\n","import { sliceProperties } from 'utils/slicing';\nimport { normalizeJsonResponse } from 'utils/api';\nimport { PLAYER_EVENT } from 'utils/consts';\nimport { isPlainObject } from 'utils/type-inference';\nimport { getCloudinaryUrl } from 'plugins/cloudinary/common';\n\nimport Playlist from './ui/playlist';\nimport PlaylistWidget from './ui/playlist-widget';\nimport './ui/panel/playlist-panel';\n\nconst LIST_BY_TAG_PARAMS = { format: 'json', resource_type: 'video', type: 'list' };\n\nconst playlist = (player, options = {}) => {\n  const chainTarget = sliceProperties(options, 'chainTarget').chainTarget;\n  let playlistInstance = null;\n  let playlistDisposer = null;\n  let playlistWidget = null;\n\n  const initPlaylistWidget = () => {\n    player.on(PLAYER_EVENT.PLAYLIST_CREATED, () => {\n      if (playlistWidget) {\n        playlistWidget.dispose();\n      }\n\n      if (isPlainObject(options.playlistWidget)) {\n        if (player.fluid_) {\n          options.playlistWidget.fluid = true;\n        }\n\n        if (player.cloudinary.fontFace) {\n          options.playlistWidget.fontFace = player.cloudinary.fontFace;\n        }\n\n        playlistWidget = new PlaylistWidget(player, options.playlistWidget);\n      }\n    });\n  };\n\n  const disposePlaylist = () => {\n    player.removeClass('vjs-playlist');\n    playlistInstance = undefined;\n    player.playlist().dispose();\n    player.off('cldsourcechanged', playlistDisposer);\n  };\n\n  const addPlaylistDisposer = () => {\n    const disposer = () => {\n      if (\n        playlistInstance &&\n        !playlistInstance.currentSource().contains(player.currentSource())\n      ) {\n        player.disposePlaylist();\n      }\n    };\n\n    player.on('cldsourcechanged', disposer);\n\n    return disposer;\n  };\n\n  const createPlaylist = (sources, options) => {\n    if (sources instanceof Playlist) {\n      playlistInstance = sources;\n      playlistInstance.resetState();\n      playlistInstance.currentIndex(playlistInstance.currentIndex());\n    } else {\n      playlistInstance = new Playlist(player.cloudinary, sources, options);\n      playlistInstance.currentIndex(0);\n    }\n\n    initPlaylistWidget();\n\n    playlistDisposer = addPlaylistDisposer();\n    player.addClass('vjs-playlist');\n  };\n\n  player.cloudinary.sourcesByTag = async (tag, options = {}) => {\n    const url = getCloudinaryUrl(\n      tag,\n      Object.assign({}, player.cloudinary.cloudinaryConfig(), LIST_BY_TAG_PARAMS)\n    );\n\n    const result = await fetch(url);\n    const json = await result.json();\n\n    const resources = normalizeJsonResponse(json.resources);\n\n    if (options.sorter) {\n      resources.sort(options.sorter);\n    }\n\n    const sources = resources.map(resource => {\n      let sourceParams = options.sourceParams || {};\n\n      if (typeof sourceParams === 'function') {\n        sourceParams = sourceParams(resource);\n      }\n\n      const info = (resource.context && resource.context.custom) || {};\n\n      const source = Object.assign({ info }, sourceParams, { publicId: resource.publicId });\n\n      return player.cloudinary.buildSource(source);\n    });\n\n    return sources;\n  };\n\n  return (sources, options = {}) => {\n    if (sources === undefined) {\n      return playlistInstance;\n    }\n\n    if (playlistInstance) {\n      disposePlaylist();\n    }\n\n    createPlaylist(sources, options);\n    player.trigger('playlistcreated');\n\n    return chainTarget;\n  };\n};\n\nexport default playlist;\n","// https://github.com/csnover/js-iso8601/blob/master/iso8601.js\nconst numericKeys = [1, 4, 5, 6, 7, 10, 11];\n\nconst parseISO8601 = function (date) {\n  let timestamp = 0;\n  let struct = 0;\n  let minutesOffset = 0;\n\n  // ES5 §15.9.4.2 states that the string should attempt to be parsed as a Date Time String Format string\n  // before falling back to any implementation-specific date parsing, so that’s what we do, even if native\n  // implementations could be faster\n  //              1 YYYY                2 MM       3 DD           4 HH    5 mm       6 ss        7 msec        8 Z 9 ±    10 tzHH    11 tzmm\n  if ((struct = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/.exec(date))) {\n    // avoid NaN timestamps caused by “undefined” values being passed to Date.UTC\n    for (let i = 0, k; (k = numericKeys[i]); ++i) {\n      struct[k] = +struct[k] || 0;\n    }\n\n    // allow undefined days and months\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1;\n\n    if (struct[8] !== 'Z' && struct[9] !== undefined) {\n      minutesOffset = struct[10] * 60 + struct[11];\n\n      if (struct[9] === '+') {\n        minutesOffset = 0 - minutesOffset;\n      }\n    }\n\n    timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n  } else {\n    timestamp = NaN;\n  }\n\n  return timestamp;\n};\n\n// Convert time string i.e. '2:40' to seconds number (160)\n// Also allows h:m:s format and mm:ss, m:s etc.\nconst parseTime = function (hms) {\n  const [seconds, minutes, hours] = hms.split(':').reverse();\n  let sum = null;\n  if (!isNaN(seconds)) {\n    sum = (+hours || 0) * 60 * 60 + (+minutes || 0) * 60 + (+seconds);\n  }\n  return sum;\n};\n\nexport { parseISO8601, parseTime };\n"],"names":["TIME_FIELDS","normalizeJsonResponse","obj","agg","isPlainObject","Object","keys","reduce","key","newKey","camelize","indexOf","Date","parseISO8601","Array","isArray","map","item","dom","videojs","Component","ClickableComponent","UpcomingVideoOverlay","static","constructor","player","_len","arguments","length","args","_key","super","this","_setEvents","on","PLAYER_EVENT","UP_COMING_VIDEO_SHOW","_show","UP_COMING_VIDEO_HIDE","_hide","PLAYLIST_ITEM_CHANGED","_onPlaylistItemChange","removeClass","VJS_UPCOMING_VIDEO_SHOW","_disableTransition","block","addClass","DISABLE_TRANSITION_CLASS","_","event","next","setItem","ima","adsManager","getAdsManager","getCurrentAd","isLinear","setTitle","source","getChild","setContent","info","title","publicId","_source","maxWidth","parseInt","window","getComputedStyle","el","getPropertyValue","transformation","crop","background","width","height","Math","round","content","style","backgroundImage","poster","url","handleClick","cloudinary","playlist","playNext","createEl","className","UpcomingVideoOverlayContent","UpcomingVideoOverlayBar","prototype","options_","children","_contentSpan","innerText","container","innerHTML","appendChild","options","type","Error","typeCssClass","ariaLabel","PlaylistNextButton","PlaylistButton","stopPropagation","PlaylistPreviousButton","playPrevious","PLAYLIST_DEFAULTS_OPTIONS","fluid","show","direction","total","selector","renderTo","context","sources","undefined","repeat","autoAdvance","presentUpcoming","_context","_sources","_defaultRecResolverCache","_currentIndex","_recommendationsHandler","_autoAdvance","_presentUpcoming","addUiComponents","resetState","forEach","enqueue","list","controlBar","addChild","findIndex","c","name_","delay","isInteger","_setupPresentUpcoming","_setupAutoAdvance","_resetAutoAdvance","trigger","ended","timeout","setTimeout","dispose","_resetPresentUpcoming","_resetRecommendations","off","showTriggered","currentTime","remainingTime","duration","UPCOMING_VIDEO_TRANSITION","loop","clearTimeout","_refreshRecommendations","autoShowRecommendations","_refreshTextTracks","currentSource","textTracks","_recommendationItemBuilder","defaultResolver","objectId","recommendations","action","playItem","currentIndex","index","current","itemBuilder","_defaultRecommendationsResolver","recommendationOptions","disableAutoShow","eventData","items","numOfItems","min","nextIndex","push","buildSource","src","VideoSource","playAtIndex","play","removeAt","splice","_repeat","first","last","previousIndex","isFirst","playFirst","playLast","lastIndex","isLast","playlistByTag","_this","tag","sourcesByTag","then","OPTIONS_DEFAULT","wrap","PlaylistLayout","layoutOptions","player_","fluidHandler","e","removeCls","setCls","wrapVideoWithLayout","videoWrap_","contentEl_","FLUID","PLAYLIST_PANEL","removeLayout","getCls","cls","skinClassPrefix","playerClassPrefix","update","optionToChange","removeChild","parentElem","parentElement","fontFamily","modifyOptions","opt","useDefaultLayout","useCustomLayout","document","querySelector","showAll","toLowerCase","skin","render","merge","playlistWidget","layout_","PlaylistLayoutHorizontal","PlaylistLayoutVertical","PlaylistLayoutCustom","getLayout","optionName","optionValue","setSkin","DEFAULT_OPTIONS","aspect_ratio","initOptions","getItem","getTitle","getDuration","getThumbnail","preventDefault","createControlTextEl","href","img","PlaylistPanelItem","Thumbnail","isCurrent","classList","add","titleWrap","currEl","PlaylistPanel","itemChangeHandler","removeAll","i","getItems","playlistItem","LIST_BY_TAG_PARAMS","format","resource_type","chainTarget","sliceProperties","playlistInstance","playlistDisposer","initPlaylistWidget","PLAYLIST_CREATED","fluid_","fontFace","PlaylistWidget","createPlaylist","Playlist","addPlaylistDisposer","disposer","contains","disposePlaylist","async","getCloudinaryUrl","assign","cloudinaryConfig","result","fetch","json","resources","sorter","sort","resource","sourceParams","custom","numericKeys","date","timestamp","struct","minutesOffset","exec","k","UTC","NaN","parseTime","hms","seconds","minutes","hours","split","reverse","sum","isNaN"],"sourceRoot":""}